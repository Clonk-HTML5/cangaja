<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>cangaja&#x2F;lib-ext&#x2F;clipper.min.js - Cangaja API</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Cangaja API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/CG.Animation.html">CG.Animation</a></li>
            
                <li><a href="..&#x2F;classes/CG.B2DBridge.html">CG.B2DBridge</a></li>
            
                <li><a href="..&#x2F;classes/CG.B2DChainShape.html">CG.B2DChainShape</a></li>
            
                <li><a href="..&#x2F;classes/CG.B2DCirlce.html">CG.B2DCirlce</a></li>
            
                <li><a href="..&#x2F;classes/CG.B2DEntity.html">CG.B2DEntity</a></li>
            
                <li><a href="..&#x2F;classes/CG.B2DLine.html">CG.B2DLine</a></li>
            
                <li><a href="..&#x2F;classes/CG.B2DPolygon.html">CG.B2DPolygon</a></li>
            
                <li><a href="..&#x2F;classes/CG.B2DRectangle.html">CG.B2DRectangle</a></li>
            
                <li><a href="..&#x2F;classes/CG.B2DRope.html">CG.B2DRope</a></li>
            
                <li><a href="..&#x2F;classes/CG.B2DWorld.html">CG.B2DWorld</a></li>
            
                <li><a href="..&#x2F;classes/CG.Bitmap.html">CG.Bitmap</a></li>
            
                <li><a href="..&#x2F;classes/CG.Bound.html">CG.Bound</a></li>
            
                <li><a href="..&#x2F;classes/CG.Buffer.html">CG.Buffer</a></li>
            
                <li><a href="..&#x2F;classes/CG.Button.html">CG.Button</a></li>
            
                <li><a href="..&#x2F;classes/CG.CanvasRenderer.html">CG.CanvasRenderer</a></li>
            
                <li><a href="..&#x2F;classes/CG.Delta.html">CG.Delta</a></li>
            
                <li><a href="..&#x2F;classes/CG.Director.html">CG.Director</a></li>
            
                <li><a href="..&#x2F;classes/CG.Emitter.html">CG.Emitter</a></li>
            
                <li><a href="..&#x2F;classes/CG.Entity.html">CG.Entity</a></li>
            
                <li><a href="..&#x2F;classes/CG.Font.html">CG.Font</a></li>
            
                <li><a href="..&#x2F;classes/CG.Layer.html">CG.Layer</a></li>
            
                <li><a href="..&#x2F;classes/CG.Map.html">CG.Map</a></li>
            
                <li><a href="..&#x2F;classes/CG.MapArea.html">CG.MapArea</a></li>
            
                <li><a href="..&#x2F;classes/CG.MapPoint.html">CG.MapPoint</a></li>
            
                <li><a href="..&#x2F;classes/CG.MapTileLayer.html">CG.MapTileLayer</a></li>
            
                <li><a href="..&#x2F;classes/CG.MapTileProperties.html">CG.MapTileProperties</a></li>
            
                <li><a href="..&#x2F;classes/CG.MediaAsset.html">CG.MediaAsset</a></li>
            
                <li><a href="..&#x2F;classes/CG.Menu.html">CG.Menu</a></li>
            
                <li><a href="..&#x2F;classes/CG.Morph.html">CG.Morph</a></li>
            
                <li><a href="..&#x2F;classes/CG.Particle.html">CG.Particle</a></li>
            
                <li><a href="..&#x2F;classes/CG.Point.html">CG.Point</a></li>
            
                <li><a href="..&#x2F;classes/CG.Rectangle.html">CG.Rectangle</a></li>
            
                <li><a href="..&#x2F;classes/CG.Screen.html">CG.Screen</a></li>
            
                <li><a href="..&#x2F;classes/CG.Sequence.html">CG.Sequence</a></li>
            
                <li><a href="..&#x2F;classes/CG.Sprite.html">CG.Sprite</a></li>
            
                <li><a href="..&#x2F;classes/CG.Text.html">CG.Text</a></li>
            
                <li><a href="..&#x2F;classes/CG.TexturePacker.html">CG.TexturePacker</a></li>
            
                <li><a href="..&#x2F;classes/CG.TPImage.html">CG.TPImage</a></li>
            
                <li><a href="..&#x2F;classes/CG.Translate.html">CG.Translate</a></li>
            
                <li><a href="..&#x2F;classes/CG.Vector.html">CG.Vector</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/CG.html">CG</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: cangaja&#x2F;lib-ext&#x2F;clipper.min.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;*******************************************************************************
*                                                                              *
* Author    :  Angus Johnson                                                   *
* Version   :  5.0.2                                                           *
* Date      :  30 December 2012                                                *
* Website   :  http:&#x2F;&#x2F;www.angusj.com                                           *
* Copyright :  Angus Johnson 2010-2012                                         *
*                                                                              *
* License:                                                                     *
* Use, modification &amp; distribution is subject to Boost Software License Ver 1. *
* http:&#x2F;&#x2F;www.boost.org&#x2F;LICENSE_1_0.txt                                         *
*                                                                              *
* Attributions:                                                                *
* The code in this library is an extension of Bala Vatti&#x27;s clipping algorithm: *
* &quot;A generic solution to polygon clipping&quot;                                     *
* Communications of the ACM, Vol 35, Issue 7 (July 1992) pp 56-63.             *
* http:&#x2F;&#x2F;portal.acm.org&#x2F;citation.cfm?id=129906                                 *
*                                                                              *
* Computer graphics and geometric modeling: implementation and algorithms      *
* By Max K. Agoston                                                            *
* Springer; 1 edition (January 4, 2005)                                        *
* http:&#x2F;&#x2F;books.google.com&#x2F;books?q=vatti+clipping+agoston                       *
*                                                                              *
* See also:                                                                    *
* &quot;Polygon Offsetting by Computing Winding Numbers&quot;                            *
* Paper no. DETC2005-85513 pp. 565-575                                         *
* ASME 2005 International Design Engineering Technical Conferences             *
* and Computers and Information in Engineering Conference (IDETC&#x2F;CIE2005)      *
* September 24ï¿½28, 2005 , Long Beach, California, USA                          *
* http:&#x2F;&#x2F;www.me.berkeley.edu&#x2F;~mcmains&#x2F;pubs&#x2F;DAC05OffsetPolygon.pdf              *
*                                                                              *
*******************************************************************************&#x2F;

&#x2F;*******************************************************************************
*                                                                              *
* Author    :  Timo                                                            *
* Version   :  5.0.2.2                                                         *
* Date      :  11 September 2013                                               *
*                                                                              *
* This is a translation of the C# Clipper library to Javascript.               *
* Int128 struct of C# is implemented using JSBN of Tom Wu.                     *
* Because Javascript lacks support for 64-bit integers, the space              *
* is a little more restricted than in C# version.                              *
*                                                                              *
* C# version has support for coordinate space:                                 *
* +-4611686018427387903 ( sqrt(2^127 -1)&#x2F;2 )                                   *
* while Javascript version has support for space:                              *
* +-4503599627370495 ( sqrt(2^106 -1)&#x2F;2 )                                      *
*                                                                              *
* Tom Wu&#x27;s JSBN proved to be the fastest big integer library:                  *
* http:&#x2F;&#x2F;jsperf.com&#x2F;big-integer-library-test                                   *
*                                                                              *
* This class can be made simpler when (if ever) 64-bit integer support comes.  *
*                                                                              *
*******************************************************************************&#x2F;

&#x2F;*******************************************************************************
*                                                                              *
* Basic JavaScript BN library - subset useful for RSA encryption.              *
* http:&#x2F;&#x2F;www-cs-students.stanford.edu&#x2F;~tjw&#x2F;jsbn&#x2F;                               *
* Copyright (c) 2005  Tom Wu                                                   *
* All Rights Reserved.                                                         *
* See &quot;LICENSE&quot; for details:                                                   *
* http:&#x2F;&#x2F;www-cs-students.stanford.edu&#x2F;~tjw&#x2F;jsbn&#x2F;LICENSE                        *
*                                                                              *
*******************************************************************************&#x2F;

(function(){function k(a,b,c){d.biginteger_used=1;null!=a&amp;&amp;(&quot;number&quot;==typeof a?this.fromString(Math.floor(a).toString(),10):null==b&amp;&amp;&quot;string&quot;!=typeof a?this.fromString(a,256):(-1!=a.indexOf(&quot;.&quot;)&amp;&amp;(a=a.substring(0,a.indexOf(&quot;.&quot;))),this.fromString(a,b)))}function n(){return new k(null)}function R(a,b,c,e,d,f){for(;0&lt;=--f;){var h=b*this[a++]+c[e]+d;d=Math.floor(h&#x2F;67108864);c[e++]=h&amp;67108863}return d}function S(a,b,c,e,d,f){var h=b&amp;32767;for(b&gt;&gt;=15;0&lt;=--f;){var l=this[a]&amp;32767,k=this[a++]&gt;&gt;15,m=b*l+k*
h,l=h*l+((m&amp;32767)&lt;&lt;15)+c[e]+(d&amp;1073741823);d=(l&gt;&gt;&gt;30)+(m&gt;&gt;&gt;15)+b*k+(d&gt;&gt;&gt;30);c[e++]=l&amp;1073741823}return d}function T(a,b,c,e,d,f){var h=b&amp;16383;for(b&gt;&gt;=14;0&lt;=--f;){var l=this[a]&amp;16383,k=this[a++]&gt;&gt;14,m=b*l+k*h,l=h*l+((m&amp;16383)&lt;&lt;14)+c[e]+d;d=(l&gt;&gt;28)+(m&gt;&gt;14)+b*k;c[e++]=l&amp;268435455}return d}function M(a,b){var c=G[a.charCodeAt(b)];return null==c?-1:c}function B(a){var b=n();b.fromInt(a);return b}function H(a){var b=1,c;0!=(c=a&gt;&gt;&gt;16)&amp;&amp;(a=c,b+=16);0!=(c=a&gt;&gt;8)&amp;&amp;(a=c,b+=8);0!=(c=a&gt;&gt;4)&amp;&amp;(a=c,b+=4);0!=(c=
a&gt;&gt;2)&amp;&amp;(a=c,b+=2);0!=a&gt;&gt;1&amp;&amp;(b+=1);return b}function C(a){this.m=a}function D(a){this.m=a;this.mp=a.invDigit();this.mpl=this.mp&amp;32767;this.mph=this.mp&gt;&gt;15;this.um=(1&lt;&lt;a.DB-15)-1;this.mt2=2*a.t}function U(a,b){return a&amp;b}function L(a,b){return a|b}function N(a,b){return a^b}function O(a,b){return a&amp;~b}function F(){}function P(a){return a}function E(a){this.r2=n();this.q3=n();k.ONE.dlShiftTo(2*a.t,this.r2);this.mu=this.r2.divide(a);this.m=a}var q=navigator.userAgent.toString().toLowerCase(),z,v,y,I,
J,K,Q;z=-1!=q.indexOf(&quot;chrome&quot;)&amp;&amp;-1==q.indexOf(&quot;chromium&quot;)?1:0;v=-1!=q.indexOf(&quot;chromium&quot;)?1:0;y=-1!=q.indexOf(&quot;safari&quot;)&amp;&amp;-1==q.indexOf(&quot;chrome&quot;)&amp;&amp;-1==q.indexOf(&quot;chromium&quot;)?1:0;I=-1!=q.indexOf(&quot;firefox&quot;)?1:0;q.indexOf(&quot;firefox&#x2F;17&quot;);q.indexOf(&quot;firefox&#x2F;15&quot;);q.indexOf(&quot;firefox&#x2F;3&quot;);J=-1!=q.indexOf(&quot;opera&quot;)?1:0;q.indexOf(&quot;msie 10&quot;);q.indexOf(&quot;msie 9&quot;);K=-1!=q.indexOf(&quot;msie 8&quot;)?1:0;Q=-1!=q.indexOf(&quot;msie 7&quot;)?1:0;var q=-1!=q.indexOf(&quot;msie &quot;)?1:0,d={biginteger_used:null},u;&quot;Microsoft Internet Explorer&quot;==navigator.appName?
(k.prototype.am=S,u=30):&quot;Netscape&quot;!=navigator.appName?(k.prototype.am=R,u=26):(k.prototype.am=T,u=28);k.prototype.DB=u;k.prototype.DM=(1&lt;&lt;u)-1;k.prototype.DV=1&lt;&lt;u;k.prototype.FV=Math.pow(2,52);k.prototype.F1=52-u;k.prototype.F2=2*u-52;var G=[],x;u=48;for(x=0;9&gt;=x;++x)G[u++]=x;u=97;for(x=10;36&gt;x;++x)G[u++]=x;u=65;for(x=10;36&gt;x;++x)G[u++]=x;C.prototype.convert=function(a){return 0&gt;a.s||0&lt;=a.compareTo(this.m)?a.mod(this.m):a};C.prototype.revert=function(a){return a};C.prototype.reduce=function(a){a.divRemTo(this.m,
null,a)};C.prototype.mulTo=function(a,b,c){a.multiplyTo(b,c);this.reduce(c)};C.prototype.sqrTo=function(a,b){a.squareTo(b);this.reduce(b)};D.prototype.convert=function(a){var b=n();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);0&gt;a.s&amp;&amp;0&lt;b.compareTo(k.ZERO)&amp;&amp;this.m.subTo(b,b);return b};D.prototype.revert=function(a){var b=n();a.copyTo(b);this.reduce(b);return b};D.prototype.reduce=function(a){for(;a.t&lt;=this.mt2;)a[a.t++]=0;for(var b=0;b&lt;this.m.t;++b){var c=a[b]&amp;32767,e=c*this.mpl+((c*this.mph+
(a[b]&gt;&gt;15)*this.mpl&amp;this.um)&lt;&lt;15)&amp;a.DM,c=b+this.m.t;for(a[c]+=this.m.am(0,e,a,b,0,this.m.t);a[c]&gt;=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp();a.drShiftTo(this.m.t,a);0&lt;=a.compareTo(this.m)&amp;&amp;a.subTo(this.m,a)};D.prototype.mulTo=function(a,b,c){a.multiplyTo(b,c);this.reduce(c)};D.prototype.sqrTo=function(a,b){a.squareTo(b);this.reduce(b)};k.prototype.copyTo=function(a){for(var b=this.t-1;0&lt;=b;--b)a[b]=this[b];a.t=this.t;a.s=this.s};k.prototype.fromInt=function(a){this.t=1;this.s=0&gt;a?-1:0;0&lt;a?this[0]=a:-1&gt;a?
this[0]=a+this.DV:this.t=0};k.prototype.fromString=function(a,b){var c;if(16==b)c=4;else if(8==b)c=3;else if(256==b)c=8;else if(2==b)c=1;else if(32==b)c=5;else if(4==b)c=2;else{this.fromRadix(a,b);return}this.s=this.t=0;for(var e=a.length,d=!1,f=0;0&lt;=--e;){var h=8==c?a[e]&amp;255:M(a,e);0&gt;h?&quot;-&quot;==a.charAt(e)&amp;&amp;(d=!0):(d=!1,0==f?this[this.t++]=h:f+c&gt;this.DB?(this[this.t-1]|=(h&amp;(1&lt;&lt;this.DB-f)-1)&lt;&lt;f,this[this.t++]=h&gt;&gt;this.DB-f):this[this.t-1]|=h&lt;&lt;f,f+=c,f&gt;=this.DB&amp;&amp;(f-=this.DB))}8==c&amp;&amp;0!=(a[0]&amp;128)&amp;&amp;(this.s=
-1,0&lt;f&amp;&amp;(this[this.t-1]|=(1&lt;&lt;this.DB-f)-1&lt;&lt;f));this.clamp();d&amp;&amp;k.ZERO.subTo(this,this)};k.prototype.clamp=function(){for(var a=this.s&amp;this.DM;0&lt;this.t&amp;&amp;this[this.t-1]==a;)--this.t};k.prototype.dlShiftTo=function(a,b){var c;for(c=this.t-1;0&lt;=c;--c)b[c+a]=this[c];for(c=a-1;0&lt;=c;--c)b[c]=0;b.t=this.t+a;b.s=this.s};k.prototype.drShiftTo=function(a,b){for(var c=a;c&lt;this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0);b.s=this.s};k.prototype.lShiftTo=function(a,b){var c=a%this.DB,e=this.DB-c,d=(1&lt;&lt;e)-1,f=
Math.floor(a&#x2F;this.DB),h=this.s&lt;&lt;c&amp;this.DM,l;for(l=this.t-1;0&lt;=l;--l)b[l+f+1]=this[l]&gt;&gt;e|h,h=(this[l]&amp;d)&lt;&lt;c;for(l=f-1;0&lt;=l;--l)b[l]=0;b[f]=h;b.t=this.t+f+1;b.s=this.s;b.clamp()};k.prototype.rShiftTo=function(a,b){b.s=this.s;var c=Math.floor(a&#x2F;this.DB);if(c&gt;=this.t)b.t=0;else{var e=a%this.DB,d=this.DB-e,f=(1&lt;&lt;e)-1;b[0]=this[c]&gt;&gt;e;for(var h=c+1;h&lt;this.t;++h)b[h-c-1]|=(this[h]&amp;f)&lt;&lt;d,b[h-c]=this[h]&gt;&gt;e;0&lt;e&amp;&amp;(b[this.t-c-1]|=(this.s&amp;f)&lt;&lt;d);b.t=this.t-c;b.clamp()}};k.prototype.subTo=function(a,b){for(var c=
0,e=0,d=Math.min(a.t,this.t);c&lt;d;)e+=this[c]-a[c],b[c++]=e&amp;this.DM,e&gt;&gt;=this.DB;if(a.t&lt;this.t){for(e-=a.s;c&lt;this.t;)e+=this[c],b[c++]=e&amp;this.DM,e&gt;&gt;=this.DB;e+=this.s}else{for(e+=this.s;c&lt;a.t;)e-=a[c],b[c++]=e&amp;this.DM,e&gt;&gt;=this.DB;e-=a.s}b.s=0&gt;e?-1:0;-1&gt;e?b[c++]=this.DV+e:0&lt;e&amp;&amp;(b[c++]=e);b.t=c;b.clamp()};k.prototype.multiplyTo=function(a,b){var c=this.abs(),e=a.abs(),d=c.t;for(b.t=d+e.t;0&lt;=--d;)b[d]=0;for(d=0;d&lt;e.t;++d)b[d+c.t]=c.am(0,e[d],b,d,0,c.t);b.s=0;b.clamp();this.s!=a.s&amp;&amp;k.ZERO.subTo(b,b)};k.prototype.squareTo=
function(a){for(var b=this.abs(),c=a.t=2*b.t;0&lt;=--c;)a[c]=0;for(c=0;c&lt;b.t-1;++c){var e=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,e,b.t-c-1))&gt;=b.DV&amp;&amp;(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}0&lt;a.t&amp;&amp;(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1));a.s=0;a.clamp()};k.prototype.divRemTo=function(a,b,c){var e=a.abs();if(!(0&gt;=e.t)){var d=this.abs();if(d.t&lt;e.t)null!=b&amp;&amp;b.fromInt(0),null!=c&amp;&amp;this.copyTo(c);else{null==c&amp;&amp;(c=n());var f=n(),h=this.s;a=a.s;var l=this.DB-H(e[e.t-1]);0&lt;l?(e.lShiftTo(l,f),d.lShiftTo(l,c)):
(e.copyTo(f),d.copyTo(c));e=f.t;d=f[e-1];if(0!=d){var p=d*(1&lt;&lt;this.F1)+(1&lt;e?f[e-2]&gt;&gt;this.F2:0),m=this.FV&#x2F;p,p=(1&lt;&lt;this.F1)&#x2F;p,r=1&lt;&lt;this.F2,w=c.t,q=w-e,t=null==b?n():b;f.dlShiftTo(q,t);0&lt;=c.compareTo(t)&amp;&amp;(c[c.t++]=1,c.subTo(t,c));k.ONE.dlShiftTo(e,t);for(t.subTo(f,f);f.t&lt;e;)f[f.t++]=0;for(;0&lt;=--q;){var s=c[--w]==d?this.DM:Math.floor(c[w]*m+(c[w-1]+r)*p);if((c[w]+=f.am(0,s,c,q,0,e))&lt;s)for(f.dlShiftTo(q,t),c.subTo(t,c);c[w]&lt;--s;)c.subTo(t,c)}null!=b&amp;&amp;(c.drShiftTo(e,b),h!=a&amp;&amp;k.ZERO.subTo(b,b));c.t=e;c.clamp();
0&lt;l&amp;&amp;c.rShiftTo(l,c);0&gt;h&amp;&amp;k.ZERO.subTo(c,c)}}}};k.prototype.invDigit=function(){if(1&gt;this.t)return 0;var a=this[0];if(0==(a&amp;1))return 0;var b=a&amp;3,b=b*(2-(a&amp;15)*b)&amp;15,b=b*(2-(a&amp;255)*b)&amp;255,b=b*(2-((a&amp;65535)*b&amp;65535))&amp;65535,b=b*(2-a*b%this.DV)%this.DV;return 0&lt;b?this.DV-b:-b};k.prototype.isEven=function(){return 0==(0&lt;this.t?this[0]&amp;1:this.s)};k.prototype.exp=function(a,b){if(4294967295&lt;a||1&gt;a)return k.ONE;var c=n(),e=n(),d=b.convert(this),f=H(a)-1;for(d.copyTo(c);0&lt;=--f;)if(b.sqrTo(c,e),0&lt;(a&amp;1&lt;&lt;f))b.mulTo(e,
d,c);else var h=c,c=e,e=h;return b.revert(c)};k.prototype.toString=function(a){if(0&gt;this.s)return&quot;-&quot;+this.negate().toString(a);if(16==a)a=4;else if(8==a)a=3;else if(2==a)a=1;else if(32==a)a=5;else if(4==a)a=2;else return this.toRadix(a);var b=(1&lt;&lt;a)-1,c,e=!1,d=&quot;&quot;,f=this.t,h=this.DB-f*this.DB%a;if(0&lt;f--)for(h&lt;this.DB&amp;&amp;0&lt;(c=this[f]&gt;&gt;h)&amp;&amp;(e=!0,d=&quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;.charAt(c));0&lt;=f;)h&lt;a?(c=(this[f]&amp;(1&lt;&lt;h)-1)&lt;&lt;a-h,c|=this[--f]&gt;&gt;(h+=this.DB-a)):(c=this[f]&gt;&gt;(h-=a)&amp;b,0&gt;=h&amp;&amp;(h+=this.DB,
--f)),0&lt;c&amp;&amp;(e=!0),e&amp;&amp;(d+=&quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;.charAt(c));return e?d:&quot;0&quot;};k.prototype.negate=function(){var a=n();k.ZERO.subTo(this,a);return a};k.prototype.abs=function(){return 0&gt;this.s?this.negate():this};k.prototype.compareTo=function(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t,b=c-a.t;if(0!=b)return 0&gt;this.s?-b:b;for(;0&lt;=--c;)if(0!=(b=this[c]-a[c]))return b;return 0};k.prototype.bitLength=function(){return 0&gt;=this.t?0:this.DB*(this.t-1)+H(this[this.t-1]^this.s&amp;this.DM)};
k.prototype.mod=function(a){var b=n();this.abs().divRemTo(a,null,b);0&gt;this.s&amp;&amp;0&lt;b.compareTo(k.ZERO)&amp;&amp;a.subTo(b,b);return b};k.prototype.modPowInt=function(a,b){var c;c=256&gt;a||b.isEven()?new C(b):new D(b);return this.exp(a,c)};k.ZERO=B(0);k.ONE=B(1);F.prototype.convert=P;F.prototype.revert=P;F.prototype.mulTo=function(a,b,c){a.multiplyTo(b,c)};F.prototype.sqrTo=function(a,b){a.squareTo(b)};E.prototype.convert=function(a){if(0&gt;a.s||a.t&gt;2*this.m.t)return a.mod(this.m);if(0&gt;a.compareTo(this.m))return a;
var b=n();a.copyTo(b);this.reduce(b);return b};E.prototype.revert=function(a){return a};E.prototype.reduce=function(a){a.drShiftTo(this.m.t-1,this.r2);a.t&gt;this.m.t+1&amp;&amp;(a.t=this.m.t+1,a.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0&gt;a.compareTo(this.r2);)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);0&lt;=a.compareTo(this.m);)a.subTo(this.m,a)};E.prototype.mulTo=function(a,b,c){a.multiplyTo(b,c);this.reduce(c)};E.prototype.sqrTo=
function(a,b){a.squareTo(b);this.reduce(b)};var s=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,
661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],V=67108864&#x2F;s[s.length-1];k.prototype.chunkSize=function(a){return Math.floor(Math.LN2*this.DB&#x2F;Math.log(a))};k.prototype.toRadix=function(a){null==a&amp;&amp;(a=10);if(0==this.signum()||2&gt;a||36&lt;a)return&quot;0&quot;;var b=this.chunkSize(a),b=Math.pow(a,b),c=B(b),e=n(),d=n(),f=&quot;&quot;;for(this.divRemTo(c,e,d);0&lt;e.signum();)f=(b+d.intValue()).toString(a).substr(1)+
f,e.divRemTo(c,e,d);return d.intValue().toString(a)+f};k.prototype.fromRadix=function(a,b){this.fromInt(0);null==b&amp;&amp;(b=10);for(var c=this.chunkSize(b),e=Math.pow(b,c),d=!1,f=0,h=0,l=0;l&lt;a.length;++l){var p=M(a,l);0&gt;p?&quot;-&quot;==a.charAt(l)&amp;&amp;0==this.signum()&amp;&amp;(d=!0):(h=b*h+p,++f&gt;=c&amp;&amp;(this.dMultiply(e),this.dAddOffset(h,0),h=f=0))}0&lt;f&amp;&amp;(this.dMultiply(Math.pow(b,f)),this.dAddOffset(h,0));d&amp;&amp;k.ZERO.subTo(this,this)};k.prototype.fromNumber=function(a,b,c){if(&quot;number&quot;==typeof b)if(2&gt;a)this.fromInt(1);else for(this.fromNumber(a,
c),this.testBit(a-1)||this.bitwiseTo(k.ONE.shiftLeft(a-1),L,this),this.isEven()&amp;&amp;this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()&gt;a&amp;&amp;this.subTo(k.ONE.shiftLeft(a-1),this);else{c=[];var e=a&amp;7;c.length=(a&gt;&gt;3)+1;b.nextBytes(c);c[0]=0&lt;e?c[0]&amp;(1&lt;&lt;e)-1:0;this.fromString(c,256)}};k.prototype.bitwiseTo=function(a,b,c){var e,d,f=Math.min(a.t,this.t);for(e=0;e&lt;f;++e)c[e]=b(this[e],a[e]);if(a.t&lt;this.t){d=a.s&amp;this.DM;for(e=f;e&lt;this.t;++e)c[e]=b(this[e],d);c.t=this.t}else{d=
this.s&amp;this.DM;for(e=f;e&lt;a.t;++e)c[e]=b(d,a[e]);c.t=a.t}c.s=b(this.s,a.s);c.clamp()};k.prototype.changeBit=function(a,b){var c=k.ONE.shiftLeft(a);this.bitwiseTo(c,b,c);return c};k.prototype.addTo=function(a,b){for(var c=0,e=0,d=Math.min(a.t,this.t);c&lt;d;)e+=this[c]+a[c],b[c++]=e&amp;this.DM,e&gt;&gt;=this.DB;if(a.t&lt;this.t){for(e+=a.s;c&lt;this.t;)e+=this[c],b[c++]=e&amp;this.DM,e&gt;&gt;=this.DB;e+=this.s}else{for(e+=this.s;c&lt;a.t;)e+=a[c],b[c++]=e&amp;this.DM,e&gt;&gt;=this.DB;e+=a.s}b.s=0&gt;e?-1:0;0&lt;e?b[c++]=e:-1&gt;e&amp;&amp;(b[c++]=this.DV+
e);b.t=c;b.clamp()};k.prototype.dMultiply=function(a){this[this.t]=this.am(0,a-1,this,0,0,this.t);++this.t;this.clamp()};k.prototype.dAddOffset=function(a,b){if(0!=a){for(;this.t&lt;=b;)this[this.t++]=0;for(this[b]+=a;this[b]&gt;=this.DV;)this[b]-=this.DV,++b&gt;=this.t&amp;&amp;(this[this.t++]=0),++this[b]}};k.prototype.multiplyLowerTo=function(a,b,c){var e=Math.min(this.t+a.t,b);c.s=0;for(c.t=e;0&lt;e;)c[--e]=0;var d;for(d=c.t-this.t;e&lt;d;++e)c[e+this.t]=this.am(0,a[e],c,e,0,this.t);for(d=Math.min(a.t,b);e&lt;d;++e)this.am(0,
a[e],c,e,0,b-e);c.clamp()};k.prototype.multiplyUpperTo=function(a,b,c){--b;var e=c.t=this.t+a.t-b;for(c.s=0;0&lt;=--e;)c[e]=0;for(e=Math.max(b-this.t,0);e&lt;a.t;++e)c[this.t+e-b]=this.am(b-e,a[e],c,0,0,this.t+e-b);c.clamp();c.drShiftTo(1,c)};k.prototype.modInt=function(a){if(0&gt;=a)return 0;var b=this.DV%a,c=0&gt;this.s?a-1:0;if(0&lt;this.t)if(0==b)c=this[0]%a;else for(var e=this.t-1;0&lt;=e;--e)c=(b*c+this[e])%a;return c};k.prototype.millerRabin=function(a){var b=this.subtract(k.ONE),c=b.getLowestSetBit();if(0&gt;=
c)return!1;var e=b.shiftRight(c);a=a+1&gt;&gt;1;a&gt;s.length&amp;&amp;(a=s.length);for(var d=n(),f=0;f&lt;a;++f){d.fromInt(s[Math.floor(Math.random()*s.length)]);var h=d.modPow(e,this);if(0!=h.compareTo(k.ONE)&amp;&amp;0!=h.compareTo(b)){for(var l=1;l++&lt;c&amp;&amp;0!=h.compareTo(b);)if(h=h.modPowInt(2,this),0==h.compareTo(k.ONE))return!1;if(0!=h.compareTo(b))return!1}}return!0};k.prototype.clone=function(){var a=n();this.copyTo(a);return a};k.prototype.intValue=function(){if(0&gt;this.s){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==
this.t)return this[0];if(0==this.t)return 0}return(this[1]&amp;(1&lt;&lt;32-this.DB)-1)&lt;&lt;this.DB|this[0]};k.prototype.byteValue=function(){return 0==this.t?this.s:this[0]&lt;&lt;24&gt;&gt;24};k.prototype.shortValue=function(){return 0==this.t?this.s:this[0]&lt;&lt;16&gt;&gt;16};k.prototype.signum=function(){return 0&gt;this.s?-1:0&gt;=this.t||1==this.t&amp;&amp;0&gt;=this[0]?0:1};k.prototype.toByteArray=function(){var a=this.t,b=[];b[0]=this.s;var c=this.DB-a*this.DB%8,e,d=0;if(0&lt;a--)for(c&lt;this.DB&amp;&amp;(e=this[a]&gt;&gt;c)!=(this.s&amp;this.DM)&gt;&gt;c&amp;&amp;(b[d++]=e|this.s&lt;&lt;
this.DB-c);0&lt;=a;)if(8&gt;c?(e=(this[a]&amp;(1&lt;&lt;c)-1)&lt;&lt;8-c,e|=this[--a]&gt;&gt;(c+=this.DB-8)):(e=this[a]&gt;&gt;(c-=8)&amp;255,0&gt;=c&amp;&amp;(c+=this.DB,--a)),0!=(e&amp;128)&amp;&amp;(e|=-256),0==d&amp;&amp;(this.s&amp;128)!=(e&amp;128)&amp;&amp;++d,0&lt;d||e!=this.s)b[d++]=e;return b};k.prototype.equals=function(a){return 0==this.compareTo(a)};k.prototype.min=function(a){return 0&gt;this.compareTo(a)?this:a};k.prototype.max=function(a){return 0&lt;this.compareTo(a)?this:a};k.prototype.and=function(a){var b=n();this.bitwiseTo(a,U,b);return b};k.prototype.or=function(a){var b=
n();this.bitwiseTo(a,L,b);return b};k.prototype.xor=function(a){var b=n();this.bitwiseTo(a,N,b);return b};k.prototype.andNot=function(a){var b=n();this.bitwiseTo(a,O,b);return b};k.prototype.not=function(){for(var a=n(),b=0;b&lt;this.t;++b)a[b]=this.DM&amp;~this[b];a.t=this.t;a.s=~this.s;return a};k.prototype.shiftLeft=function(a){var b=n();0&gt;a?this.rShiftTo(-a,b):this.lShiftTo(a,b);return b};k.prototype.shiftRight=function(a){var b=n();0&gt;a?this.lShiftTo(-a,b):this.rShiftTo(a,b);return b};k.prototype.getLowestSetBit=
function(){for(var a=0;a&lt;this.t;++a)if(0!=this[a]){var b=a*this.DB;a=this[a];if(0==a)a=-1;else{var c=0;0==(a&amp;65535)&amp;&amp;(a&gt;&gt;=16,c+=16);0==(a&amp;255)&amp;&amp;(a&gt;&gt;=8,c+=8);0==(a&amp;15)&amp;&amp;(a&gt;&gt;=4,c+=4);0==(a&amp;3)&amp;&amp;(a&gt;&gt;=2,c+=2);0==(a&amp;1)&amp;&amp;++c;a=c}return b+a}return 0&gt;this.s?this.t*this.DB:-1};k.prototype.bitCount=function(){for(var a=0,b=this.s&amp;this.DM,c=0;c&lt;this.t;++c){for(var e=this[c]^b,d=0;0!=e;)e&amp;=e-1,++d;a+=d}return a};k.prototype.testBit=function(a){var b=Math.floor(a&#x2F;this.DB);return b&gt;=this.t?0!=this.s:0!=(this[b]&amp;
1&lt;&lt;a%this.DB)};k.prototype.setBit=function(a){return this.changeBit(a,L)};k.prototype.clearBit=function(a){return this.changeBit(a,O)};k.prototype.flipBit=function(a){return this.changeBit(a,N)};k.prototype.add=function(a){var b=n();this.addTo(a,b);return b};k.prototype.subtract=function(a){var b=n();this.subTo(a,b);return b};k.prototype.multiply=function(a){var b=n();this.multiplyTo(a,b);return b};k.prototype.divide=function(a){var b=n();this.divRemTo(a,b,null);return b};k.prototype.remainder=function(a){var b=
n();this.divRemTo(a,null,b);return b};k.prototype.divideAndRemainder=function(a){var b=n(),c=n();this.divRemTo(a,b,c);return[b,c]};k.prototype.modPow=function(a,b){var c=a.bitLength(),e,d=B(1),f;if(0&gt;=c)return d;e=18&gt;c?1:48&gt;c?3:144&gt;c?4:768&gt;c?5:6;f=8&gt;c?new C(b):b.isEven()?new E(b):new D(b);var h=[],l=3,k=e-1,m=(1&lt;&lt;e)-1;h[1]=f.convert(this);if(1&lt;e)for(c=n(),f.sqrTo(h[1],c);l&lt;=m;)h[l]=n(),f.mulTo(c,h[l-2],h[l]),l+=2;for(var r=a.t-1,w,q=!0,t=n(),c=H(a[r])-1;0&lt;=r;){c&gt;=k?w=a[r]&gt;&gt;c-k&amp;m:(w=(a[r]&amp;(1&lt;&lt;c+1)-
1)&lt;&lt;k-c,0&lt;r&amp;&amp;(w|=a[r-1]&gt;&gt;this.DB+c-k));for(l=e;0==(w&amp;1);)w&gt;&gt;=1,--l;0&gt;(c-=l)&amp;&amp;(c+=this.DB,--r);if(q)h[w].copyTo(d),q=!1;else{for(;1&lt;l;)f.sqrTo(d,t),f.sqrTo(t,d),l-=2;0&lt;l?f.sqrTo(d,t):(l=d,d=t,t=l);f.mulTo(t,h[w],d)}for(;0&lt;=r&amp;&amp;0==(a[r]&amp;1&lt;&lt;c);)f.sqrTo(d,t),l=d,d=t,t=l,0&gt;--c&amp;&amp;(c=this.DB-1,--r)}return f.revert(d)};k.prototype.modInverse=function(a){var b=a.isEven();if(this.isEven()&amp;&amp;b||0==a.signum())return k.ZERO;for(var c=a.clone(),d=this.clone(),g=B(1),f=B(0),h=B(0),l=B(1);0!=c.signum();){for(;c.isEven();)c.rShiftTo(1,
c),b?(g.isEven()&amp;&amp;f.isEven()||(g.addTo(this,g),f.subTo(a,f)),g.rShiftTo(1,g)):f.isEven()||f.subTo(a,f),f.rShiftTo(1,f);for(;d.isEven();)d.rShiftTo(1,d),b?(h.isEven()&amp;&amp;l.isEven()||(h.addTo(this,h),l.subTo(a,l)),h.rShiftTo(1,h)):l.isEven()||l.subTo(a,l),l.rShiftTo(1,l);0&lt;=c.compareTo(d)?(c.subTo(d,c),b&amp;&amp;g.subTo(h,g),f.subTo(l,f)):(d.subTo(c,d),b&amp;&amp;h.subTo(g,h),l.subTo(f,l))}if(0!=d.compareTo(k.ONE))return k.ZERO;if(0&lt;=l.compareTo(a))return l.subtract(a);if(0&gt;l.signum())l.addTo(a,l);else return l;return 0&gt;
l.signum()?l.add(a):l};k.prototype.pow=function(a){return this.exp(a,new F)};k.prototype.gcd=function(a){var b=0&gt;this.s?this.negate():this.clone();a=0&gt;a.s?a.negate():a.clone();if(0&gt;b.compareTo(a)){var c=b,b=a;a=c}var c=b.getLowestSetBit(),d=a.getLowestSetBit();if(0&gt;d)return b;c&lt;d&amp;&amp;(d=c);0&lt;d&amp;&amp;(b.rShiftTo(d,b),a.rShiftTo(d,a));for(;0&lt;b.signum();)0&lt;(c=b.getLowestSetBit())&amp;&amp;b.rShiftTo(c,b),0&lt;(c=a.getLowestSetBit())&amp;&amp;a.rShiftTo(c,a),0&lt;=b.compareTo(a)?(b.subTo(a,b),b.rShiftTo(1,b)):(a.subTo(b,a),a.rShiftTo(1,
a));0&lt;d&amp;&amp;a.lShiftTo(d,a);return a};k.prototype.isProbablePrime=function(a){var b,c=this.abs();if(1==c.t&amp;&amp;c[0]&lt;=s[s.length-1]){for(b=0;b&lt;s.length;++b)if(c[0]==s[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b&lt;s.length;){for(var d=s[b],g=b+1;g&lt;s.length&amp;&amp;d&lt;V;)d*=s[g++];for(d=c.modInt(d);b&lt;g;)if(0==d%s[b++])return!1}return c.millerRabin(a)};k.prototype.square=function(){var a=n();this.squareTo(a);return a};d.Math_Abs_Int64=d.Math_Abs_Int32=d.Math_Abs_Double=function(a){return Math.abs(a)};d.Math_Max_Int32_Int32=
function(a,b){return Math.max(a,b)};d.Cast_Int32=q||J||y?function(a){return a|0}:function(a){return~~a};d.Cast_Int64=z?function(a){return-2147483648&gt;a||2147483647&lt;a?0&gt;a?Math.ceil(a):Math.floor(a):~~a}:I&amp;&amp;&quot;function&quot;==typeof Number.toInteger?function(a){return Number.toInteger(a)}:Q||K?function(a){return parseInt(a,10)}:q?function(a){return-2147483648&gt;a||2147483647&lt;a?0&gt;a?Math.ceil(a):Math.floor(a):a|0}:function(a){return 0&gt;a?Math.ceil(a):Math.floor(a)};d.Clear=function(a){a.length=0};d.MaxSteps=64;
d.PI=3.141592653589793;d.PI2=6.283185307179586;d.IntPoint=function(){var a=arguments;1==a.length&amp;&amp;(this.x=a[0].x,this.y=a[0].y);2==a.length&amp;&amp;(this.x=a[0],this.y=a[1])};d.IntRect=function(){var a=arguments;if(4==a.length){var b=a[1],c=a[2],d=a[3];this.left=a[0];this.top=b;this.right=c;this.bottom=d}else this.bottom=this.right=this.top=this.left=0};d.Polygon=function(){return[]};d.Polygons=function(){return[]};d.ExPolygons=function(){var a=[];a.exPolygons=!0;return a};d.ExPolygon=function(){this.holes=
this.outer=null};d.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3};d.PolyType={ptSubject:0,ptClip:1};d.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3};d.JoinType={jtSquare:0,jtRound:1,jtMiter:2};d.EdgeSide={esLeft:1,esRight:2};d.Protects={ipNone:0,ipLeft:1,ipRight:2,ipBoth:3};d.Direction={dRightToLeft:0,dLeftToRight:1};d.TEdge=function(){this.tmpX=this.deltaY=this.deltaX=this.dx=this.ytop=this.xtop=this.ycurr=this.xcurr=this.ybot=this.xbot=0;this.polyType=d.PolyType.ptSubject;
this.side=null;this.outIdx=this.windCnt2=this.windCnt=this.windDelta=0;this.prevInSEL=this.nextInSEL=this.prevInAEL=this.nextInAEL=this.nextInLML=this.prev=this.next=null};d.IntersectNode=function(){this.next=this.pt=this.edge2=this.edge1=null};d.LocalMinima=function(){this.y=0;this.next=this.rightBound=this.leftBound=null};d.Scanbeam=function(){this.y=0;this.next=null};d.OutRec=function(){this.idx=0;this.isHole=!1;this.bottomPt=this.pts=this.AppendLink=this.FirstLeft=null};d.OutPt=function(){this.idx=
0;this.prev=this.next=this.pt=null};d.JoinRec=function(){this.pt1b=this.pt1a=null;this.poly1Idx=0;this.pt2b=this.pt2a=null;this.poly2Idx=0};d.HorzJoinRec=function(){this.edge=null;this.savedIdx=0};d.ClipperBase=function(){this.m_CurrentLM=this.m_MinimaList=null;this.m_edges=[[]];this.m_UseFullRange=!1};d.ClipperBase.horizontal=-9007199254740992;d.ClipperBase.loRange=47453132;d.ClipperBase.hiRange=0xfffffffffffff;d.ClipperBase.PointsEqual=function(a,b){return a.x==b.x&amp;&amp;a.y==b.y};d.ClipperBase.prototype.PointIsVertex=
function(a,b){var c=b;do{if(d.ClipperBase.PointsEqual(c.pt,a))return!0;c=c.next}while(c!=b);return!1};d.ClipperBase.prototype.PointInPolygon=function(a,b,c){var d=b,g=!1;if(c){do(d.pt.y&lt;=a.y&amp;&amp;a.y&lt;d.prev.pt.y||d.prev.pt.y&lt;=a.y&amp;&amp;a.y&lt;d.pt.y)&amp;&amp;0&gt;(new k(a.x-d.pt.x)).compareTo((new k(d.prev.pt.x-d.pt.x)).multiply(new k(a.y-d.pt.y)).divide(new k(d.prev.pt.y-d.pt.y)))&amp;&amp;(g=!g),d=d.next;while(d!=b)}else{do(d.pt.y&lt;=a.y&amp;&amp;a.y&lt;d.prev.pt.y||d.prev.pt.y&lt;=a.y&amp;&amp;a.y&lt;d.pt.y)&amp;&amp;a.x-d.pt.x&lt;(d.prev.pt.x-d.pt.x)*(a.y-d.pt.y)&#x2F;
(d.prev.pt.y-d.pt.y)&amp;&amp;(g=!g),d=d.next;while(d!=b)}return g};d.ClipperBase.prototype.SlopesEqual=d.ClipperBase.SlopesEqual=function(){var a=arguments,b,c,d,g;if(3==a.length)return b=a[0],c=a[1],(a=a[2])?(new k(b.deltaY)).multiply(new k(c.deltaX)).toString()==(new k(b.deltaX)).multiply(new k(c.deltaY)).toString():b.deltaY*c.deltaX==b.deltaX*c.deltaY;if(4==a.length)return b=a[0],c=a[1],d=a[2],(a=a[3])?(new k(b.y-c.y)).multiply(new k(c.x-d.x)).toString()==(new k(b.x-c.x)).multiply(new k(c.y-d.y)).toString():
0==(b.y-c.y)*(c.x-d.x)-(b.x-c.x)*(c.y-d.y);if(5==a.length)return b=a[0],c=a[1],d=a[2],g=a[3],(a=a[4])?(new k(b.y-c.y)).multiply(new k(d.x-g.x)).toString()==(new k(b.x-c.x)).multiply(new k(d.y-g.y)).toString():0==(b.y-c.y)*(d.x-g.x)-(b.x-c.x)*(d.y-g.y)};d.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var a=0;a&lt;this.m_edges.length;++a){for(var b=0;b&lt;this.m_edges[a].length;++b)this.m_edges[a][b]=null;d.Clear(this.m_edges[a])}d.Clear(this.m_edges);this.m_UseFullRange=!1};d.ClipperBase.prototype.DisposeLocalMinimaList=
function(){for(;null!=this.m_MinimaList;){var a=this.m_MinimaList.next;this.m_MinimaList=null;this.m_MinimaList=a}this.m_CurrentLM=null};d.ClipperBase.prototype.AddPolygons=function(a,b){var c=!1,e=!1;if(!(a instanceof Array))return c;for(var g=0;g&lt;a.length;++g)if((e=this.AddPolygon(a[g],b,!0))&amp;&amp;&quot;exceed&quot;!=e)c=!0;else if(&quot;exceed&quot;==e)break;&quot;exceed&quot;==e&amp;&amp;d.Error(&quot;Coordinate exceeds range bounds in AddPolygons().&quot;);return c};d.ClipperBase.prototype.AddPolygon=function(a,b,c){if(!(a instanceof Array))return!1;
var e=a.length;if(3&gt;e)return!1;var g=new d.Polygon;g.push(new d.IntPoint(a[0].x,a[0].y));var f=0,h,l=!1;for(h=1;h&lt;e;++h){var k;k=this.m_UseFullRange?d.ClipperBase.hiRange:d.ClipperBase.loRange;if(d.Math_Abs_Int64(a[h].x)&gt;k||d.Math_Abs_Int64(a[h].y)&gt;k){if(d.Math_Abs_Int64(a[h].x)&gt;d.ClipperBase.hiRange||d.Math_Abs_Int64(a[h].y)&gt;d.ClipperBase.hiRange){if(&quot;undefined&quot;!=typeof c)return&quot;exceed&quot;;l=!0;break}this.m_UseFullRange=!0}d.ClipperBase.PointsEqual(g[f],a[h])||(0&lt;f&amp;&amp;this.SlopesEqual(g[f-1],g[f],a[h],
this.m_UseFullRange)?d.ClipperBase.PointsEqual(g[f-1],a[h])&amp;&amp;f--:f++,f&lt;g.length?g[f]=a[h]:g.push(new d.IntPoint(a[h].x,a[h].y)))}l&amp;&amp;&quot;undefined&quot;==typeof c&amp;&amp;d.Error(&quot;Coordinate exceeds range bounds in AddPolygon()&quot;);if(2&gt;f)return!1;for(e=f+1;2&lt;e;){if(d.ClipperBase.PointsEqual(g[f],g[0]))f--;else if(d.ClipperBase.PointsEqual(g[0],g[1])||this.SlopesEqual(g[f],g[0],g[1],this.m_UseFullRange))g[0]=g[f--];else if(this.SlopesEqual(g[f-1],g[f],g[0],this.m_UseFullRange))f--;else if(this.SlopesEqual(g[0],g[1],
g[2],this.m_UseFullRange)){for(h=2;h&lt;=f;++h)g[h-1]=g[h];f--}else break;e--}if(3&gt;e)return!1;a=[];for(h=0;h&lt;e;h++)a.push(new d.TEdge);this.m_edges.push(a);a[0].xcurr=g[0].x;a[0].ycurr=g[0].y;this.InitEdge(a[e-1],a[0],a[e-2],g[e-1],b);for(h=e-2;0&lt;h;--h)this.InitEdge(a[h],a[h+1],a[h-1],g[h],b);this.InitEdge(a[0],a[1],a[e-1],g[0],b);e=b=a[0];do b.xcurr=b.xbot,b.ycurr=b.ybot,b.ytop&lt;e.ytop&amp;&amp;(e=b),b=b.next;while(b!=a[0]);0&lt;e.windDelta&amp;&amp;(e=e.next);e.dx==d.ClipperBase.horizontal&amp;&amp;(e=e.next);b=e;do b=this.AddBoundsToLML(b);
while(b!=e);return!0};d.ClipperBase.prototype.InitEdge=function(a,b,c,d,g){a.next=b;a.prev=c;a.xcurr=d.x;a.ycurr=d.y;a.ycurr&gt;=a.next.ycurr?(a.xbot=a.xcurr,a.ybot=a.ycurr,a.xtop=a.next.xcurr,a.ytop=a.next.ycurr,a.windDelta=1):(a.xtop=a.xcurr,a.ytop=a.ycurr,a.xbot=a.next.xcurr,a.ybot=a.next.ycurr,a.windDelta=-1);this.SetDx(a);a.polyType=g;a.outIdx=-1};d.ClipperBase.prototype.SetDx=function(a){a.deltaX=a.xtop-a.xbot;a.deltaY=a.ytop-a.ybot;a.dx=0==a.deltaY?d.ClipperBase.horizontal:a.deltaX&#x2F;a.deltaY};
d.ClipperBase.prototype.AddBoundsToLML=function(a){a.nextInLML=null;for(a=a.next;;){if(a.dx==d.ClipperBase.horizontal){if(a.next.ytop&lt;a.ytop&amp;&amp;a.next.xbot&gt;a.prev.xbot)break;a.xtop!=a.prev.xbot&amp;&amp;this.SwapX(a);a.nextInLML=a.prev}else if(a.ycurr==a.prev.ycurr)break;else a.nextInLML=a.prev;a=a.next}var b=new d.LocalMinima;b.next=null;b.y=a.prev.ybot;a.dx==d.ClipperBase.horizontal?(a.xbot!=a.prev.xbot&amp;&amp;this.SwapX(a),b.leftBound=a.prev,b.rightBound=a):a.dx&lt;a.prev.dx?(b.leftBound=a.prev,b.rightBound=a):(b.leftBound=
a,b.rightBound=a.prev);b.leftBound.side=d.EdgeSide.esLeft;b.rightBound.side=d.EdgeSide.esRight;for(this.InsertLocalMinima(b);a.next.ytop!=a.ytop||a.next.dx==d.ClipperBase.horizontal;)a=a.nextInLML=a.next,a.dx==d.ClipperBase.horizontal&amp;&amp;a.xbot!=a.prev.xtop&amp;&amp;this.SwapX(a);return a.next};d.ClipperBase.prototype.InsertLocalMinima=function(a){if(null==this.m_MinimaList)this.m_MinimaList=a;else if(a.y&gt;=this.m_MinimaList.y)a.next=this.m_MinimaList,this.m_MinimaList=a;else{for(var b=this.m_MinimaList;null!=
b.next&amp;&amp;a.y&lt;b.next.y;)b=b.next;a.next=b.next;b.next=a}};d.ClipperBase.prototype.PopLocalMinima=function(){null!=this.m_CurrentLM&amp;&amp;(this.m_CurrentLM=this.m_CurrentLM.next)};d.ClipperBase.prototype.SwapX=function(a){a.xcurr=a.xtop;a.xtop=a.xbot;a.xbot=a.xcurr};d.ClipperBase.prototype.Reset=function(){for(var a=this.m_CurrentLM=this.m_MinimaList;null!=a;){for(var b=a.leftBound;null!=b;)b.xcurr=b.xbot,b.ycurr=b.ybot,b.side=d.EdgeSide.esLeft,b.outIdx=-1,b=b.nextInLML;for(b=a.rightBound;null!=b;)b.xcurr=
b.xbot,b.ycurr=b.ybot,b.side=d.EdgeSide.esRight,b.outIdx=-1,b=b.nextInLML;a=a.next}};d.ClipperBase.prototype.GetBounds=function(){var a=new d.IntRect,b=this.m_MinimaList;if(null==b)return a;a.left=b.leftBound.xbot;a.top=b.leftBound.ybot;a.right=b.leftBound.xbot;for(a.bottom=b.leftBound.ybot;null!=b;){b.leftBound.ybot&gt;a.bottom&amp;&amp;(a.bottom=b.leftBound.ybot);for(var c=b.leftBound;;){for(var e=c;null!=c.nextInLML;)c.xbot&lt;a.left&amp;&amp;(a.left=c.xbot),c.xbot&gt;a.right&amp;&amp;(a.right=c.xbot),c=c.nextInLML;c.xbot&lt;a.left&amp;&amp;
(a.left=c.xbot);c.xbot&gt;a.right&amp;&amp;(a.right=c.xbot);c.xtop&lt;a.left&amp;&amp;(a.left=c.xtop);c.xtop&gt;a.right&amp;&amp;(a.right=c.xtop);c.ytop&lt;a.top&amp;&amp;(a.top=c.ytop);if(e==b.leftBound)c=b.rightBound;else break}b=b.next}return a};d.Clipper=function(){this.m_PolyOuts=null;this.m_ClipType=d.ClipType.ctIntersection;this.m_IntersectNodes=this.m_SortedEdges=this.m_ActiveEdges=this.m_Scanbeam=null;this.m_ExecuteLocked=!1;this.m_SubjFillType=this.m_ClipFillType=d.PolyFillType.pftEvenOdd;this.m_HorizJoins=this.m_Joins=null;this.m_UsingExPolygons=
this.m_ReverseOutput=!1;d.ClipperBase.call(this);this.m_IntersectNodes=this.m_SortedEdges=this.m_ActiveEdges=this.m_Scanbeam=null;this.m_ExecuteLocked=!1;this.m_PolyOuts=[];this.m_Joins=[];this.m_HorizJoins=[];this.m_UsingExPolygons=this.m_ReverseOutput=!1};d.Clipper.prototype.Clear=function(){0!=this.m_edges.length&amp;&amp;(this.DisposeAllPolyPts(),d.ClipperBase.prototype.Clear.call(this))};d.Clipper.prototype.DisposeScanbeamList=function(){for(;null!=this.m_Scanbeam;){var a=this.m_Scanbeam.next;this.m_Scanbeam=
null;this.m_Scanbeam=a}};d.Clipper.prototype.Reset=function(){d.ClipperBase.prototype.Reset.call(this);this.m_SortedEdges=this.m_ActiveEdges=this.m_Scanbeam=null;this.DisposeAllPolyPts();for(var a=this.m_MinimaList;null!=a;)this.InsertScanbeam(a.y),this.InsertScanbeam(a.leftBound.ytop),a=a.next};d.Clipper.prototype.get_ReverseSolution=function(){return this.m_ReverseOutput};d.Clipper.prototype.set_ReverseSolution=function(a){this.m_ReverseOutput=a};d.Clipper.prototype.InsertScanbeam=function(a){var b;
if(null==this.m_Scanbeam)this.m_Scanbeam=new d.Scanbeam,this.m_Scanbeam.next=null,this.m_Scanbeam.y=a;else if(a&gt;this.m_Scanbeam.y)b=new d.Scanbeam,b.y=a,b.next=this.m_Scanbeam,this.m_Scanbeam=b;else{for(var c=this.m_Scanbeam;null!=c.next&amp;&amp;a&lt;=c.next.y;)c=c.next;a!=c.y&amp;&amp;(b=new d.Scanbeam,b.y=a,b.next=c.next,c.next=b)}};d.Clipper.prototype.Execute=function(a,b,c,e){var g;2==arguments.length&amp;&amp;(e=c=d.PolyFillType.pftEvenOdd);if(&quot;undefined&quot;==typeof b.exPolygons){if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=
!0;d.Clear(b);this.m_SubjFillType=c;this.m_ClipFillType=e;this.m_ClipType=a;this.m_UsingExPolygons=!1;(g=this.ExecuteInternal())&amp;&amp;this.BuildResult(b)}else{if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0;d.Clear(b);this.m_SubjFillType=c;this.m_ClipFillType=e;this.m_ClipType=a;this.m_UsingExPolygons=!0;(g=this.ExecuteInternal())&amp;&amp;this.BuildResultEx(b)}this.m_ExecuteLocked=!1;return g};d.Clipper.prototype.PolySort=function(a,b){if(a==b)return 0;if(null==a.pts||null==b.pts)return null==a.pts!=
(null==b.pts)?null==a.pts?1:-1:0;var c=(a.isHole?a.FirstLeft.idx:a.idx)-(b.isHole?b.FirstLeft.idx:b.idx);return 0==c&amp;&amp;a.isHole!=b.isHole?a.isHole?1:-1:c};d.Clipper.prototype.FindAppendLinkEnd=function(a){for(;null!=a.AppendLink;)a=a.AppendLink;return a};d.Clipper.prototype.FixHoleLinkage=function(a){var b;b=null!=a.bottomPt?this.m_PolyOuts[a.bottomPt.idx].FirstLeft:a.FirstLeft;a==b&amp;&amp;d.Error(&quot;HoleLinkage error&quot;);null!=b&amp;&amp;(null!=b.AppendLink&amp;&amp;(b=this.FindAppendLinkEnd(b)),b==a?b=null:b.isHole&amp;&amp;(this.FixHoleLinkage(b),
b=b.FirstLeft));a.FirstLeft=b;null==b&amp;&amp;(a.isHole=!1);a.AppendLink=null};d.Clipper.prototype.ExecuteInternal=function(){var a;try{this.Reset();if(null==this.m_CurrentLM)return!0;var b=this.PopScanbeam();do{this.InsertLocalMinimaIntoAEL(b);d.Clear(this.m_HorizJoins);this.ProcessHorizontals();var c=this.PopScanbeam();a=this.ProcessIntersections(b,c);if(!a)break;this.ProcessEdgesAtTopOfScanbeam(c);b=c}while(null!=this.m_Scanbeam)}catch(e){a=!1}if(a){for(c=0;c&lt;this.m_PolyOuts.length;c++)b=this.m_PolyOuts[c],
null!=b.pts&amp;&amp;(this.FixupOutPolygon(b),null!=b.pts&amp;&amp;(b.isHole&amp;&amp;this.m_UsingExPolygons&amp;&amp;this.FixHoleLinkage(b),(b.isHole^this.m_ReverseOutput)==0&lt;this.Area(b,this.m_UseFullRange)&amp;&amp;this.ReversePolyPtLinks(b.pts)));this.JoinCommonEdges();this.m_UsingExPolygons&amp;&amp;this.m_PolyOuts.sort(this.PolySort)}d.Clear(this.m_Joins);d.Clear(this.m_HorizJoins);return a};d.Clipper.prototype.PopScanbeam=function(){var a=this.m_Scanbeam.y;this.m_Scanbeam=this.m_Scanbeam.next;return a};d.Clipper.prototype.DisposeAllPolyPts=
function(){for(var a=0;a&lt;this.m_PolyOuts.length;++a)this.DisposeOutRec(a);d.Clear(this.m_PolyOuts)};d.Clipper.prototype.DisposeOutRec=function(a){var b=this.m_PolyOuts[a];null!=b.pts&amp;&amp;this.DisposeOutPts(b.pts);this.m_PolyOuts[a]=null};d.Clipper.prototype.DisposeOutPts=function(a){if(null!=a)for(a.prev.next=null;null!=a;)a=a.next};d.Clipper.prototype.AddJoin=function(a,b,c,e){var g=new d.JoinRec;g.poly1Idx=0&lt;=c?c:a.outIdx;g.pt1a=new d.IntPoint(a.xcurr,a.ycurr);g.pt1b=new d.IntPoint(a.xtop,a.ytop);
g.poly2Idx=0&lt;=e?e:b.outIdx;g.pt2a=new d.IntPoint(b.xcurr,b.ycurr);g.pt2b=new d.IntPoint(b.xtop,b.ytop);this.m_Joins.push(g)};d.Clipper.prototype.AddHorzJoin=function(a,b){var c=new d.HorzJoinRec;c.edge=a;c.savedIdx=b;this.m_HorizJoins.push(c)};d.Clipper.prototype.InsertLocalMinimaIntoAEL=function(a){for(var b,c;null!=this.m_CurrentLM&amp;&amp;this.m_CurrentLM.y==a;){var e=this.m_CurrentLM.leftBound,g=this.m_CurrentLM.rightBound;this.InsertEdgeIntoAEL(e);this.InsertScanbeam(e.ytop);this.InsertEdgeIntoAEL(g);
this.IsEvenOddFillType(e)?(e.windDelta=1,g.windDelta=1):g.windDelta=-e.windDelta;this.SetWindingCount(e);g.windCnt=e.windCnt;g.windCnt2=e.windCnt2;g.dx==d.ClipperBase.horizontal?(this.AddEdgeToSEL(g),this.InsertScanbeam(g.nextInLML.ytop)):this.InsertScanbeam(g.ytop);this.IsContributing(e)&amp;&amp;this.AddLocalMinPoly(e,g,new d.IntPoint(e.xcurr,this.m_CurrentLM.y));if(0&lt;=g.outIdx&amp;&amp;g.dx==d.ClipperBase.horizontal)for(var f=0;f&lt;this.m_HorizJoins.length;f++){b=new d.IntPoint;c=new d.IntPoint;var h=this.m_HorizJoins[f];
b={Value:b};c={Value:c};this.GetOverlapSegment(new d.IntPoint(h.edge.xbot,h.edge.ybot),new d.IntPoint(h.edge.xtop,h.edge.ytop),new d.IntPoint(g.xbot,g.ybot),new d.IntPoint(g.xtop,g.ytop),b,c)&amp;&amp;this.AddJoin(h.edge,g,h.savedIdx,-1)}if(e.nextInAEL!=g)for(0&lt;=g.outIdx&amp;&amp;0&lt;=g.prevInAEL.outIdx&amp;&amp;this.SlopesEqual(g.prevInAEL,g,this.m_UseFullRange)&amp;&amp;this.AddJoin(g,g.prevInAEL,-1,-1),c=e.nextInAEL,b=new d.IntPoint(e.xcurr,e.ycurr);c!=g;)null==c&amp;&amp;d.Error(&quot;InsertLocalMinimaIntoAEL: missing rightbound!&quot;),this.IntersectEdges(g,
c,b,d.Protects.ipNone),c=c.nextInAEL;this.PopLocalMinima()}};d.Clipper.prototype.InsertEdgeIntoAEL=function(a){a.prevInAEL=null;a.nextInAEL=null;if(null==this.m_ActiveEdges)this.m_ActiveEdges=a;else if(this.E2InsertsBeforeE1(this.m_ActiveEdges,a))a.nextInAEL=this.m_ActiveEdges,this.m_ActiveEdges=this.m_ActiveEdges.prevInAEL=a;else{for(var b=this.m_ActiveEdges;null!=b.nextInAEL&amp;&amp;!this.E2InsertsBeforeE1(b.nextInAEL,a);)b=b.nextInAEL;a.nextInAEL=b.nextInAEL;null!=b.nextInAEL&amp;&amp;(b.nextInAEL.prevInAEL=
a);a.prevInAEL=b;b.nextInAEL=a}};d.Clipper.prototype.E2InsertsBeforeE1=function(a,b){return b.xcurr==a.xcurr?b.dx&gt;a.dx:b.xcurr&lt;a.xcurr};d.Clipper.prototype.IsEvenOddFillType=function(a){return a.polyType==d.PolyType.ptSubject?this.m_SubjFillType==d.PolyFillType.pftEvenOdd:this.m_ClipFillType==d.PolyFillType.pftEvenOdd};d.Clipper.prototype.IsEvenOddAltFillType=function(a){return a.polyType==d.PolyType.ptSubject?this.m_ClipFillType==d.PolyFillType.pftEvenOdd:this.m_SubjFillType==d.PolyFillType.pftEvenOdd};
d.Clipper.prototype.IsContributing=function(a){var b,c;a.polyType==d.PolyType.ptSubject?(b=this.m_SubjFillType,c=this.m_ClipFillType):(b=this.m_ClipFillType,c=this.m_SubjFillType);switch(b){case d.PolyFillType.pftEvenOdd:case d.PolyFillType.pftNonZero:if(1!=d.Math_Abs_Int32(a.windCnt))return!1;break;case d.PolyFillType.pftPositive:if(1!=a.windCnt)return!1;break;default:if(-1!=a.windCnt)return!1}switch(this.m_ClipType){case d.ClipType.ctIntersection:switch(c){case d.PolyFillType.pftEvenOdd:case d.PolyFillType.pftNonZero:return 0!=
a.windCnt2;case d.PolyFillType.pftPositive:return 0&lt;a.windCnt2;default:return 0&gt;a.windCnt2}case d.ClipType.ctUnion:switch(c){case d.PolyFillType.pftEvenOdd:case d.PolyFillType.pftNonZero:return 0==a.windCnt2;case d.PolyFillType.pftPositive:return 0&gt;=a.windCnt2;default:return 0&lt;=a.windCnt2}case d.ClipType.ctDifference:if(a.polyType==d.PolyType.ptSubject)switch(c){case d.PolyFillType.pftEvenOdd:case d.PolyFillType.pftNonZero:return 0==a.windCnt2;case d.PolyFillType.pftPositive:return 0&gt;=a.windCnt2;
default:return 0&lt;=a.windCnt2}else switch(c){case d.PolyFillType.pftEvenOdd:case d.PolyFillType.pftNonZero:return 0!=a.windCnt2;case d.PolyFillType.pftPositive:return 0&lt;a.windCnt2;default:return 0&gt;a.windCnt2}}return!0};d.Clipper.prototype.SetWindingCount=function(a){for(var b=a.prevInAEL;null!=b&amp;&amp;b.polyType!=a.polyType;)b=b.prevInAEL;null==b?(a.windCnt=a.windDelta,a.windCnt2=0,b=this.m_ActiveEdges):(this.IsEvenOddFillType(a)?a.windCnt=1:0&gt;b.windCnt*b.windDelta?1&lt;d.Math_Abs_Int32(b.windCnt)?a.windCnt=
0&gt;b.windDelta*a.windDelta?b.windCnt:b.windCnt+a.windDelta:a.windCnt=b.windCnt+b.windDelta+a.windDelta:1&lt;d.Math_Abs_Int32(b.windCnt)&amp;&amp;0&gt;b.windDelta*a.windDelta?a.windCnt=b.windCnt:a.windCnt=0==b.windCnt+a.windDelta?b.windCnt:b.windCnt+a.windDelta,a.windCnt2=b.windCnt2,b=b.nextInAEL);if(this.IsEvenOddAltFillType(a))for(;b!=a;)a.windCnt2=0==a.windCnt2?1:0,b=b.nextInAEL;else for(;b!=a;)a.windCnt2+=b.windDelta,b=b.nextInAEL};d.Clipper.prototype.AddEdgeToSEL=function(a){null==this.m_SortedEdges?(this.m_SortedEdges=
a,a.prevInSEL=null,a.nextInSEL=null):(a.nextInSEL=this.m_SortedEdges,a.prevInSEL=null,this.m_SortedEdges=this.m_SortedEdges.prevInSEL=a)};d.Clipper.prototype.CopyAELToSEL=function(){var a=this.m_ActiveEdges;this.m_SortedEdges=a;if(null!=this.m_ActiveEdges)for(this.m_SortedEdges.prevInSEL=null,a=a.nextInAEL;null!=a;)a.prevInSEL=a.prevInAEL,a.prevInSEL.nextInSEL=a,a.nextInSEL=null,a=a.nextInAEL};d.Clipper.prototype.SwapPositionsInAEL=function(a,b){var c,d;if(null!=a.nextInAEL||null!=a.prevInAEL)if(null!=
b.nextInAEL||null!=b.prevInAEL)a.nextInAEL==b?(c=b.nextInAEL,null!=c&amp;&amp;(c.prevInAEL=a),d=a.prevInAEL,null!=d&amp;&amp;(d.nextInAEL=b),b.prevInAEL=d,b.nextInAEL=a,a.prevInAEL=b,a.nextInAEL=c):b.nextInAEL==a?(c=a.nextInAEL,null!=c&amp;&amp;(c.prevInAEL=b),d=b.prevInAEL,null!=d&amp;&amp;(d.nextInAEL=a),a.prevInAEL=d,a.nextInAEL=b,b.prevInAEL=a,b.nextInAEL=c):(c=a.nextInAEL,d=a.prevInAEL,a.nextInAEL=b.nextInAEL,null!=a.nextInAEL&amp;&amp;(a.nextInAEL.prevInAEL=a),a.prevInAEL=b.prevInAEL,null!=a.prevInAEL&amp;&amp;(a.prevInAEL.nextInAEL=a),b.nextInAEL=
c,null!=b.nextInAEL&amp;&amp;(b.nextInAEL.prevInAEL=b),b.prevInAEL=d,null!=b.prevInAEL&amp;&amp;(b.prevInAEL.nextInAEL=b)),null==a.prevInAEL?this.m_ActiveEdges=a:null==b.prevInAEL&amp;&amp;(this.m_ActiveEdges=b)};d.Clipper.prototype.SwapPositionsInSEL=function(a,b){var c,d;if(null!=a.nextInSEL||null!=a.prevInSEL)if(null!=b.nextInSEL||null!=b.prevInSEL)a.nextInSEL==b?(c=b.nextInSEL,null!=c&amp;&amp;(c.prevInSEL=a),d=a.prevInSEL,null!=d&amp;&amp;(d.nextInSEL=b),b.prevInSEL=d,b.nextInSEL=a,a.prevInSEL=b,a.nextInSEL=c):b.nextInSEL==a?(c=a.nextInSEL,
null!=c&amp;&amp;(c.prevInSEL=b),d=b.prevInSEL,null!=d&amp;&amp;(d.nextInSEL=a),a.prevInSEL=d,a.nextInSEL=b,b.prevInSEL=a,b.nextInSEL=c):(c=a.nextInSEL,d=a.prevInSEL,a.nextInSEL=b.nextInSEL,null!=a.nextInSEL&amp;&amp;(a.nextInSEL.prevInSEL=a),a.prevInSEL=b.prevInSEL,null!=a.prevInSEL&amp;&amp;(a.prevInSEL.nextInSEL=a),b.nextInSEL=c,null!=b.nextInSEL&amp;&amp;(b.nextInSEL.prevInSEL=b),b.prevInSEL=d,null!=b.prevInSEL&amp;&amp;(b.prevInSEL.nextInSEL=b)),null==a.prevInSEL?this.m_SortedEdges=a:null==b.prevInSEL&amp;&amp;(this.m_SortedEdges=b)};d.Clipper.prototype.AddLocalMaxPoly=
function(a,b,c){this.AddOutPt(a,c);a.outIdx==b.outIdx?(a.outIdx=-1,b.outIdx=-1):a.outIdx&lt;b.outIdx?this.AppendPolygon(a,b):this.AppendPolygon(b,a)};d.Clipper.prototype.AddLocalMinPoly=function(a,b,c){var e;b.dx==d.ClipperBase.horizontal||a.dx&gt;b.dx?(this.AddOutPt(a,c),b.outIdx=a.outIdx,a.side=d.EdgeSide.esLeft,b.side=d.EdgeSide.esRight,e=a,a=e.prevInAEL==b?b.prevInAEL:e.prevInAEL):(this.AddOutPt(b,c),a.outIdx=b.outIdx,a.side=d.EdgeSide.esRight,b.side=d.EdgeSide.esLeft,e=b,a=e.prevInAEL==a?a.prevInAEL:
e.prevInAEL);null!=a&amp;&amp;0&lt;=a.outIdx&amp;&amp;d.Clipper.TopX(a,c.y)==d.Clipper.TopX(e,c.y)&amp;&amp;this.SlopesEqual(e,a,this.m_UseFullRange)&amp;&amp;this.AddJoin(e,a,-1,-1)};d.Clipper.prototype.CreateOutRec=function(){var a=new d.OutRec;a.idx=-1;a.isHole=!1;a.FirstLeft=null;a.AppendLink=null;a.pts=null;a.bottomPt=null;return a};d.Clipper.prototype.AddOutPt=function(a,b){var c,e,g=a.side==d.EdgeSide.esLeft;if(0&gt;a.outIdx)c=this.CreateOutRec(),this.m_PolyOuts.push(c),c.idx=this.m_PolyOuts.length-1,a.outIdx=c.idx,e=new d.OutPt,
c.pts=e,c.bottomPt=e,e.pt=b,e.idx=c.idx,e.next=e,e.prev=e,this.SetHoleState(a,c);else{c=this.m_PolyOuts[a.outIdx];e=c.pts;var f;g&amp;&amp;d.ClipperBase.PointsEqual(b,e.pt)||!g&amp;&amp;d.ClipperBase.PointsEqual(b,e.prev.pt)||(f=new d.OutPt,f.pt=b,f.idx=c.idx,f.pt.y==c.bottomPt.pt.y&amp;&amp;f.pt.x&lt;c.bottomPt.pt.x&amp;&amp;(c.bottomPt=f),f.next=e,f.prev=e.prev,f.prev.next=f,e.prev=f,g&amp;&amp;(c.pts=f))}};d.Clipper.prototype.SwapPoints=function(a,b){var c=a.Value;a.Value=b.Value;b.Value=c};d.Clipper.prototype.GetOverlapSegment=function(a,
b,c,e,g,f){if(d.Math_Abs_Int64(a.x-b.x)&gt;d.Math_Abs_Int64(a.y-b.y))return a.x&gt;b.x&amp;&amp;function(){a={Value:a};b={Value:b};var c=this.SwapPoints(a,b);a=a.Value;b=b.Value;return c}.call(this),c.x&gt;e.x&amp;&amp;function(){c={Value:c};e={Value:e};var a=this.SwapPoints(c,e);c=c.Value;e=e.Value;return a}.call(this),g.Value=a.x&gt;c.x?a:c,f.Value=b.x&lt;e.x?b:e,g.Value.x&lt;f.Value.x;a.y&lt;b.y&amp;&amp;function(){a={Value:a};b={Value:b};var c=this.SwapPoints(a,b);a=a.Value;b=b.Value;return c}.call(this);c.y&lt;e.y&amp;&amp;function(){c={Value:c};
e={Value:e};var a=this.SwapPoints(c,e);c=c.Value;e=e.Value;return a}.call(this);g.Value=a.y&lt;c.y?a:c;f.Value=b.y&gt;e.y?b:e;return g.Value.y&gt;f.Value.y};d.Clipper.prototype.FindSegment=function(a,b,c,e){if(null==a.Value)return!1;var g=a.Value,f=new d.IntPoint(c.Value),h=new d.IntPoint(e.Value);do{if(this.SlopesEqual(f,h,a.Value.pt,a.Value.prev.pt,b)&amp;&amp;this.SlopesEqual(f,h,a.Value.pt,b)&amp;&amp;this.GetOverlapSegment(f,h,a.Value.pt,a.Value.prev.pt,c,e))return!0;a.Value=a.Value.next}while(a.Value!=g);return!1};
d.Clipper.prototype.Pt3IsBetweenPt1AndPt2=function(a,b,c){return d.ClipperBase.PointsEqual(a,c)||d.ClipperBase.PointsEqual(b,c)?!0:a.x!=b.x?a.x&lt;c.x==c.x&lt;b.x:a.y&lt;c.y==c.y&lt;b.y};d.Clipper.prototype.InsertPolyPtBetween=function(a,b,c){var e=new d.OutPt;e.pt=c;b==a.next?(a.next=e,b.prev=e,e.next=b,e.prev=a):(b.next=e,a.prev=e,e.next=a,e.prev=b);return e};d.Clipper.prototype.SetHoleState=function(a,b){for(var c=!1,d=a.prevInAEL;null!=d;)0&lt;=d.outIdx&amp;&amp;(c=!c,null==b.FirstLeft&amp;&amp;(b.FirstLeft=this.m_PolyOuts[d.outIdx])),
d=d.prevInAEL;c&amp;&amp;(b.isHole=!0)};d.Clipper.prototype.GetDx=function(a,b){return a.y==b.y?d.ClipperBase.horizontal:(b.x-a.x)&#x2F;(b.y-a.y)};d.Clipper.prototype.FirstIsBottomPt=function(a,b){for(var c=a.prev;d.ClipperBase.PointsEqual(c.pt,a.pt)&amp;&amp;c!=a;)c=c.prev;for(var e=d.Math_Abs_Double(this.GetDx(a.pt,c.pt)),c=a.next;d.ClipperBase.PointsEqual(c.pt,a.pt)&amp;&amp;c!=a;)c=c.next;for(var g=d.Math_Abs_Double(this.GetDx(a.pt,c.pt)),c=b.prev;d.ClipperBase.PointsEqual(c.pt,b.pt)&amp;&amp;c!=b;)c=c.prev;for(var f=d.Math_Abs_Double(this.GetDx(b.pt,
c.pt)),c=b.next;d.ClipperBase.PointsEqual(c.pt,b.pt)&amp;&amp;c!=b;)c=c.next;c=d.Math_Abs_Double(this.GetDx(b.pt,c.pt));return e&gt;=f&amp;&amp;e&gt;=c||g&gt;=f&amp;&amp;g&gt;=c};d.Clipper.prototype.GetBottomPt=function(a){for(var b=null,c=a.next;c!=a;)c.pt.y&gt;a.pt.y?(a=c,b=null):c.pt.y==a.pt.y&amp;&amp;c.pt.x&lt;=a.pt.x&amp;&amp;(c.pt.x&lt;a.pt.x?(b=null,a=c):c.next!=a&amp;&amp;c.prev!=a&amp;&amp;(b=c)),c=c.next;if(null!=b)for(;b!=c;)for(this.FirstIsBottomPt(c,b)||(a=b),b=b.next;!d.ClipperBase.PointsEqual(b.pt,a.pt);)b=b.next;return a};d.Clipper.prototype.GetLowermostRec=
function(a,b){var c=a.bottomPt,d=b.bottomPt;return c.pt.y&gt;d.pt.y?a:c.pt.y&lt;d.pt.y?b:c.pt.x&lt;d.pt.x?a:c.pt.x&gt;d.pt.x?b:c.next==c?b:d.next==d?a:this.FirstIsBottomPt(c,d)?a:b};d.Clipper.prototype.Param1RightOfParam2=function(a,b){do if(a=a.FirstLeft,a==b)return!0;while(null!=a);return!1};d.Clipper.prototype.AppendPolygon=function(a,b){var c=this.m_PolyOuts[a.outIdx],e=this.m_PolyOuts[b.outIdx],g;g=this.Param1RightOfParam2(c,e)?e:this.Param1RightOfParam2(e,c)?c:this.GetLowermostRec(c,e);var f=c.pts,h=f.prev,
l=e.pts,k=l.prev;a.side==d.EdgeSide.esLeft?(b.side==d.EdgeSide.esLeft?(this.ReversePolyPtLinks(l),l.next=f,f.prev=l,h.next=k,k.prev=h,c.pts=k):(k.next=f,f.prev=k,l.prev=h,h.next=l,c.pts=l),f=d.EdgeSide.esLeft):(b.side==d.EdgeSide.esRight?(this.ReversePolyPtLinks(l),h.next=k,k.prev=h,l.next=f,f.prev=l):(h.next=l,l.prev=h,f.prev=k,k.next=f),f=d.EdgeSide.esRight);g==e&amp;&amp;(c.bottomPt=e.bottomPt,c.bottomPt.idx=c.idx,e.FirstLeft!=c&amp;&amp;(c.FirstLeft=e.FirstLeft),c.isHole=e.isHole);e.pts=null;e.bottomPt=null;
e.AppendLink=c;c=a.outIdx;e=b.outIdx;a.outIdx=-1;b.outIdx=-1;for(g=this.m_ActiveEdges;null!=g;){if(g.outIdx==e){g.outIdx=c;g.side=f;break}g=g.nextInAEL}for(g=0;g&lt;this.m_Joins.length;++g)this.m_Joins[g].poly1Idx==e&amp;&amp;(this.m_Joins[g].poly1Idx=c),this.m_Joins[g].poly2Idx==e&amp;&amp;(this.m_Joins[g].poly2Idx=c);for(g=0;g&lt;this.m_HorizJoins.length;++g)this.m_HorizJoins[g].savedIdx==e&amp;&amp;(this.m_HorizJoins[g].savedIdx=c)};d.Clipper.prototype.ReversePolyPtLinks=function(a){if(null!=a){var b,c;b=a;do c=b.next,b.next=
b.prev,b=b.prev=c;while(b!=a)}};d.Clipper.SwapSides=function(a,b){var c=a.side;a.side=b.side;b.side=c};d.Clipper.SwapPolyIndexes=function(a,b){var c=a.outIdx;a.outIdx=b.outIdx;b.outIdx=c};d.Clipper.prototype.DoEdge1=function(a,b,c){this.AddOutPt(a,c);d.Clipper.SwapSides(a,b);d.Clipper.SwapPolyIndexes(a,b)};d.Clipper.prototype.DoEdge2=function(a,b,c){this.AddOutPt(b,c);d.Clipper.SwapSides(a,b);d.Clipper.SwapPolyIndexes(a,b)};d.Clipper.prototype.DoBothEdges=function(a,b,c){this.AddOutPt(a,c);this.AddOutPt(b,
c);d.Clipper.SwapSides(a,b);d.Clipper.SwapPolyIndexes(a,b)};d.Clipper.prototype.IntersectEdges=function(a,b,c,e){var g=0==(d.Protects.ipLeft&amp;e)&amp;&amp;null==a.nextInLML&amp;&amp;a.xtop==c.x&amp;&amp;a.ytop==c.y;e=0==(d.Protects.ipRight&amp;e)&amp;&amp;null==b.nextInLML&amp;&amp;b.xtop==c.x&amp;&amp;b.ytop==c.y;var f=0&lt;=a.outIdx,h=0&lt;=b.outIdx;if(a.polyType==b.polyType)if(this.IsEvenOddFillType(a)){var l=a.windCnt;a.windCnt=b.windCnt;b.windCnt=l}else a.windCnt=0==a.windCnt+b.windDelta?-a.windCnt:a.windCnt+b.windDelta,b.windCnt=0==b.windCnt-a.windDelta?
-b.windCnt:b.windCnt-a.windDelta;else this.IsEvenOddFillType(b)?a.windCnt2=0==a.windCnt2?1:0:a.windCnt2+=b.windDelta,this.IsEvenOddFillType(a)?b.windCnt2=0==b.windCnt2?1:0:b.windCnt2-=a.windDelta;var k,m,r;a.polyType==d.PolyType.ptSubject?(k=this.m_SubjFillType,r=this.m_ClipFillType):(k=this.m_ClipFillType,r=this.m_SubjFillType);b.polyType==d.PolyType.ptSubject?(m=this.m_SubjFillType,l=this.m_ClipFillType):(m=this.m_ClipFillType,l=this.m_SubjFillType);switch(k){case d.PolyFillType.pftPositive:k=a.windCnt;
break;case d.PolyFillType.pftNegative:k=-a.windCnt;break;default:k=d.Math_Abs_Int32(a.windCnt)}switch(m){case d.PolyFillType.pftPositive:m=b.windCnt;break;case d.PolyFillType.pftNegative:m=-b.windCnt;break;default:m=d.Math_Abs_Int32(b.windCnt)}if(f&amp;&amp;h)g||e||0!=k&amp;&amp;1!=k||0!=m&amp;&amp;1!=m||a.polyType!=b.polyType&amp;&amp;this.m_ClipType!=d.ClipType.ctXor?this.AddLocalMaxPoly(a,b,c):this.DoBothEdges(a,b,c);else if(f)0!=m&amp;&amp;1!=m||this.m_ClipType==d.ClipType.ctIntersection&amp;&amp;b.polyType!=d.PolyType.ptSubject&amp;&amp;0==b.windCnt2||
this.DoEdge1(a,b,c);else if(h)0!=k&amp;&amp;1!=k||this.m_ClipType==d.ClipType.ctIntersection&amp;&amp;a.polyType!=d.PolyType.ptSubject&amp;&amp;0==a.windCnt2||this.DoEdge2(a,b,c);else if(!(0!=k&amp;&amp;1!=k||0!=m&amp;&amp;1!=m||g||e)){switch(r){case d.PolyFillType.pftPositive:f=a.windCnt2;break;case d.PolyFillType.pftNegative:f=-a.windCnt2;break;default:f=d.Math_Abs_Int32(a.windCnt2)}switch(l){case d.PolyFillType.pftPositive:h=b.windCnt2;break;case d.PolyFillType.pftNegative:h=-b.windCnt2;break;default:h=d.Math_Abs_Int32(b.windCnt2)}if(a.polyType!=
b.polyType)this.AddLocalMinPoly(a,b,c);else if(1==k&amp;&amp;1==m)switch(this.m_ClipType){case d.ClipType.ctIntersection:0&lt;f&amp;&amp;0&lt;h&amp;&amp;this.AddLocalMinPoly(a,b,c);break;case d.ClipType.ctUnion:0&gt;=f&amp;&amp;0&gt;=h&amp;&amp;this.AddLocalMinPoly(a,b,c);break;case d.ClipType.ctDifference:(a.polyType==d.PolyType.ptClip&amp;&amp;0&lt;f&amp;&amp;0&lt;h||a.polyType==d.PolyType.ptSubject&amp;&amp;0&gt;=f&amp;&amp;0&gt;=h)&amp;&amp;this.AddLocalMinPoly(a,b,c);break;case d.ClipType.ctXor:this.AddLocalMinPoly(a,b,c)}else d.Clipper.SwapSides(a,b)}g!=e&amp;&amp;(g&amp;&amp;0&lt;=a.outIdx||e&amp;&amp;0&lt;=b.outIdx)&amp;&amp;(d.Clipper.SwapSides(a,
b),d.Clipper.SwapPolyIndexes(a,b));g&amp;&amp;this.DeleteFromAEL(a);e&amp;&amp;this.DeleteFromAEL(b)};d.Clipper.prototype.DeleteFromAEL=function(a){var b=a.prevInAEL,c=a.nextInAEL;if(null!=b||null!=c||a==this.m_ActiveEdges)null!=b?b.nextInAEL=c:this.m_ActiveEdges=c,null!=c&amp;&amp;(c.prevInAEL=b),a.nextInAEL=null,a.prevInAEL=null};d.Clipper.prototype.DeleteFromSEL=function(a){var b=a.prevInSEL,c=a.nextInSEL;if(null!=b||null!=c||a==this.m_SortedEdges)null!=b?b.nextInSEL=c:this.m_SortedEdges=c,null!=c&amp;&amp;(c.prevInSEL=b),a.nextInSEL=
null,a.prevInSEL=null};d.Clipper.prototype.UpdateEdgeIntoAEL=function(a){null==a.Value.nextInLML&amp;&amp;d.Error(&quot;UpdateEdgeIntoAEL: invalid call&quot;);var b=a.Value.prevInAEL,c=a.Value.nextInAEL;a.Value.nextInLML.outIdx=a.Value.outIdx;null!=b?b.nextInAEL=a.Value.nextInLML:this.m_ActiveEdges=a.Value.nextInLML;null!=c&amp;&amp;(c.prevInAEL=a.Value.nextInLML);a.Value.nextInLML.side=a.Value.side;a.Value.nextInLML.windDelta=a.Value.windDelta;a.Value.nextInLML.windCnt=a.Value.windCnt;a.Value.nextInLML.windCnt2=a.Value.windCnt2;
a.Value=a.Value.nextInLML;a.Value.prevInAEL=b;a.Value.nextInAEL=c;a.Value.dx!=d.ClipperBase.horizontal&amp;&amp;this.InsertScanbeam(a.Value.ytop)};d.Clipper.prototype.ProcessHorizontals=function(){for(var a=this.m_SortedEdges;null!=a;)this.DeleteFromSEL(a),this.ProcessHorizontal(a),a=this.m_SortedEdges};d.Clipper.prototype.ProcessHorizontal=function(a){var b,c,e;a.xcurr&lt;a.xtop?(c=a.xcurr,e=a.xtop,b=d.Direction.dLeftToRight):(c=a.xtop,e=a.xcurr,b=d.Direction.dRightToLeft);var g;g=null!=a.nextInLML?null:this.GetMaximaPair(a);
for(var f=this.GetNextInAEL(a,b);null!=f;){var h=this.GetNextInAEL(f,b);if(null!=g||b==d.Direction.dLeftToRight&amp;&amp;f.xcurr&lt;=e||b==d.Direction.dRightToLeft&amp;&amp;f.xcurr&gt;=c){if(f.xcurr==a.xtop&amp;&amp;null==g)if(this.SlopesEqual(f,a.nextInLML,this.m_UseFullRange)){0&lt;=a.outIdx&amp;&amp;0&lt;=f.outIdx&amp;&amp;this.AddJoin(a.nextInLML,f,a.outIdx,-1);break}else if(f.dx&lt;a.nextInLML.dx)break;if(f==g){b==d.Direction.dLeftToRight?this.IntersectEdges(a,f,new d.IntPoint(f.xcurr,a.ycurr),0):this.IntersectEdges(f,a,new d.IntPoint(f.xcurr,a.ycurr),
0);0&lt;=g.outIdx&amp;&amp;d.Error(&quot;ProcessHorizontal error&quot;);return}f.dx!=d.ClipperBase.horizontal||this.IsMinima(f);b==d.Direction.dLeftToRight?this.IntersectEdges(a,f,new d.IntPoint(f.xcurr,a.ycurr),this.IsTopHorz(a,f.xcurr)?d.Protects.ipLeft:d.Protects.ipBoth):this.IntersectEdges(f,a,new d.IntPoint(f.xcurr,a.ycurr),this.IsTopHorz(a,f.xcurr)?d.Protects.ipRight:d.Protects.ipBoth);this.SwapPositionsInAEL(a,f)}else if(b==d.Direction.dLeftToRight&amp;&amp;f.xcurr&gt;e&amp;&amp;null==a.nextInSEL||b==d.Direction.dRightToLeft&amp;&amp;f.xcurr&lt;
c&amp;&amp;null==a.nextInSEL)break;f=h}null!=a.nextInLML?(0&lt;=a.outIdx&amp;&amp;this.AddOutPt(a,new d.IntPoint(a.xtop,a.ytop)),a={Value:a},this.UpdateEdgeIntoAEL(a)):(0&lt;=a.outIdx&amp;&amp;this.IntersectEdges(a,g,new d.IntPoint(a.xtop,a.ycurr),d.Protects.ipBoth),this.DeleteFromAEL(g),this.DeleteFromAEL(a))};d.Clipper.prototype.IsTopHorz=function(a,b){for(var c=this.m_SortedEdges;null!=c;){if(b&gt;=Math.min(c.xcurr,c.xtop)&amp;&amp;b&lt;=Math.max(c.xcurr,c.xtop))return!1;c=c.nextInSEL}return!0};d.Clipper.prototype.GetNextInAEL=function(a,
b){return b==d.Direction.dLeftToRight?a.nextInAEL:a.prevInAEL};d.Clipper.prototype.IsMinima=function(a){return null!=a&amp;&amp;a.prev.nextInLML!=a&amp;&amp;a.next.nextInLML!=a};d.Clipper.prototype.IsMaxima=function(a,b){return null!=a&amp;&amp;a.ytop==b&amp;&amp;null==a.nextInLML};d.Clipper.prototype.IsIntermediate=function(a,b){return a.ytop==b&amp;&amp;null!=a.nextInLML};d.Clipper.prototype.GetMaximaPair=function(a){return this.IsMaxima(a.next,a.ytop)&amp;&amp;a.next.xtop==a.xtop?a.next:a.prev};d.Clipper.prototype.ProcessIntersections=function(a,
b){if(null==this.m_ActiveEdges)return!0;try{this.BuildIntersectList(a,b);if(null==this.m_IntersectNodes)return!0;if(this.FixupIntersections())this.ProcessIntersectList();else return!1}catch(c){this.m_SortedEdges=null,this.DisposeIntersectNodes(),d.Error(&quot;ProcessIntersections error&quot;)}return!0};d.Clipper.prototype.BuildIntersectList=function(a,b){if(null!=this.m_ActiveEdges){var c=this.m_ActiveEdges;c.tmpX=d.Clipper.TopX(c,b);this.m_SortedEdges=c;this.m_SortedEdges.prevInSEL=null;for(c=c.nextInAEL;null!=
c;)c.prevInSEL=c.prevInAEL,c.prevInSEL.nextInSEL=c,c.nextInSEL=null,c.tmpX=d.Clipper.TopX(c,b),c=c.nextInAEL;for(var e=!0;e&amp;&amp;null!=this.m_SortedEdges;){e=!1;for(c=this.m_SortedEdges;null!=c.nextInSEL;){var g=c.nextInSEL,f=new d.IntPoint,h;if(h=c.tmpX&gt;g.tmpX)f={Value:f},h=this.IntersectPoint(c,g,f),f=f.Value;h?(f.y&gt;a&amp;&amp;(f.y=a,f.x=d.Clipper.TopX(c,f.y)),this.AddIntersectNode(c,g,f),this.SwapPositionsInSEL(c,g),e=!0):c=g}if(null!=c.prevInSEL)c.prevInSEL.nextInSEL=null;else break}this.m_SortedEdges=null}};
d.Clipper.prototype.FixupIntersections=function(){if(null==this.m_IntersectNodes.next)return!0;this.CopyAELToSEL();for(var a=this.m_IntersectNodes,b=this.m_IntersectNodes.next;null!=b;){var c=a.edge1;if(c.prevInSEL==a.edge2)b=c.prevInSEL;else if(c.nextInSEL==a.edge2)b=c.nextInSEL;else{for(;null!=b&amp;&amp;b.edge1.nextInSEL!=b.edge2&amp;&amp;b.edge1.prevInSEL!=b.edge2;)b=b.next;if(null==b)return!1;this.SwapIntersectNodes(a,b);c=a.edge1;b=a.edge2}this.SwapPositionsInSEL(c,b);a=a.next;b=a.next}this.m_SortedEdges=null;
return a.edge1.prevInSEL==a.edge2||a.edge1.nextInSEL==a.edge2};d.Clipper.prototype.ProcessIntersectList=function(){for(;null!=this.m_IntersectNodes;){var a=this.m_IntersectNodes.next;this.IntersectEdges(this.m_IntersectNodes.edge1,this.m_IntersectNodes.edge2,this.m_IntersectNodes.pt,d.Protects.ipBoth);this.SwapPositionsInAEL(this.m_IntersectNodes.edge1,this.m_IntersectNodes.edge2);this.m_IntersectNodes=null;this.m_IntersectNodes=a}};z=function(a){return 0&gt;a?Math.ceil(a-0.5):Math.round(a)};I=function(a){return 0&gt;
a?Math.ceil(a-0.5):Math.floor(a+0.5)};J=function(a){return 0&gt;a?-Math.round(Math.abs(a)):Math.round(a)};K=function(a){if(0&gt;a)return a-=0.5,-2147483648&gt;a?Math.ceil(a):a|0;a+=0.5;return 2147483647&lt;a?Math.floor(a):a|0};d.Clipper.Round=q?z:v?J:y?K:I;d.Clipper.TopX=function(a,b){return b==a.ytop?a.xtop:a.xbot+d.Clipper.Round(a.dx*(b-a.ybot))};d.Clipper.prototype.AddIntersectNode=function(a,b,c){var e=new d.IntersectNode;e.edge1=a;e.edge2=b;e.pt=c;e.next=null;if(null==this.m_IntersectNodes)this.m_IntersectNodes=
e;else if(this.ProcessParam1BeforeParam2(e,this.m_IntersectNodes))e.next=this.m_IntersectNodes,this.m_IntersectNodes=e;else{for(a=this.m_IntersectNodes;null!=a.next&amp;&amp;this.ProcessParam1BeforeParam2(a.next,e);)a=a.next;e.next=a.next;a.next=e}};d.Clipper.prototype.ProcessParam1BeforeParam2=function(a,b){var c;return a.pt.y==b.pt.y?a.edge1==b.edge1||a.edge2==b.edge1?(c=b.pt.x&gt;a.pt.x,0&lt;b.edge1.dx?!c:c):a.edge1==b.edge2||a.edge2==b.edge2?(c=b.pt.x&gt;a.pt.x,0&lt;b.edge2.dx?!c:c):b.pt.x&gt;a.pt.x:a.pt.y&gt;b.pt.y};
d.Clipper.prototype.SwapIntersectNodes=function(a,b){var c=a.edge1,d=a.edge2,g=a.pt;a.edge1=b.edge1;a.edge2=b.edge2;a.pt=b.pt;b.edge1=c;b.edge2=d;b.pt=g};d.Clipper.prototype.IntersectPoint=function(a,b,c){var e,g;if(this.SlopesEqual(a,b,this.m_UseFullRange))return!1;if(0==a.dx)c.Value.x=a.xbot,b.dx==d.ClipperBase.horizontal?c.Value.y=b.ybot:(g=b.ybot-b.xbot&#x2F;b.dx,c.Value.y=d.Clipper.Round(c.Value.x&#x2F;b.dx+g));else if(0==b.dx)c.Value.x=b.xbot,a.dx==d.ClipperBase.horizontal?c.Value.y=a.ybot:(e=a.ybot-
a.xbot&#x2F;a.dx,c.Value.y=d.Clipper.Round(c.Value.x&#x2F;a.dx+e));else{e=a.xbot-a.ybot*a.dx;g=b.xbot-b.ybot*b.dx;var f=(g-e)&#x2F;(a.dx-b.dx);c.Value.y=d.Clipper.Round(f);d.Math_Abs_Double(a.dx)&lt;d.Math_Abs_Double(b.dx)?c.Value.x=d.Clipper.Round(a.dx*f+e):c.Value.x=d.Clipper.Round(b.dx*f+g)}if(c.Value.y&lt;a.ytop||c.Value.y&lt;b.ytop){if(a.ytop&gt;b.ytop)return c.Value.x=a.xtop,c.Value.y=a.ytop,d.Clipper.TopX(b,a.ytop)&lt;a.xtop;c.Value.x=b.xtop;c.Value.y=b.ytop;return d.Clipper.TopX(a,b.ytop)&gt;b.xtop}return!0};d.Clipper.prototype.DisposeIntersectNodes=
function(){for(;null!=this.m_IntersectNodes;){var a=this.m_IntersectNodes.next;this.m_IntersectNodes=null;this.m_IntersectNodes=a}};d.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(a){for(var b=this.m_ActiveEdges,c;null!=b;)if(this.IsMaxima(b,a)&amp;&amp;this.GetMaximaPair(b).dx!=d.ClipperBase.horizontal)c=b.prevInAEL,this.DoMaxima(b,a),b=null==c?this.m_ActiveEdges:c.nextInAEL;else{if(this.IsIntermediate(b,a)&amp;&amp;b.nextInLML.dx==d.ClipperBase.horizontal){if(0&lt;=b.outIdx){this.AddOutPt(b,new d.IntPoint(b.xtop,
b.ytop));for(c=0;c&lt;this.m_HorizJoins.length;++c){var e=new d.IntPoint,g=new d.IntPoint,f=this.m_HorizJoins[c];(function(){e={Value:e};g={Value:g};var a=this.GetOverlapSegment(new d.IntPoint(f.edge.xbot,f.edge.ybot),new d.IntPoint(f.edge.xtop,f.edge.ytop),new d.IntPoint(b.nextInLML.xbot,b.nextInLML.ybot),new d.IntPoint(b.nextInLML.xtop,b.nextInLML.ytop),e,g);e=e.Value;g=g.Value;return a}).call(this)&amp;&amp;this.AddJoin(f.edge,b.nextInLML,f.savedIdx,b.outIdx)}this.AddHorzJoin(b.nextInLML,b.outIdx)}(function(){b=
{Value:b};var a=this.UpdateEdgeIntoAEL(b);b=b.Value;return a}).call(this);this.AddEdgeToSEL(b)}else b.xcurr=d.Clipper.TopX(b,a),b.ycurr=a;b=b.nextInAEL}this.ProcessHorizontals();for(b=this.m_ActiveEdges;null!=b;){if(this.IsIntermediate(b,a)){0&lt;=b.outIdx&amp;&amp;this.AddOutPt(b,new d.IntPoint(b.xtop,b.ytop));(function(){b={Value:b};var a=this.UpdateEdgeIntoAEL(b);b=b.Value;return a}).call(this);c=b.prevInAEL;var h=b.nextInAEL;null!=c&amp;&amp;c.xcurr==b.xbot&amp;&amp;c.ycurr==b.ybot&amp;&amp;0&lt;=b.outIdx&amp;&amp;0&lt;=c.outIdx&amp;&amp;c.ycurr&gt;c.ytop&amp;&amp;
this.SlopesEqual(b,c,this.m_UseFullRange)?(this.AddOutPt(c,new d.IntPoint(b.xbot,b.ybot)),this.AddJoin(b,c,-1,-1)):null!=h&amp;&amp;h.xcurr==b.xbot&amp;&amp;h.ycurr==b.ybot&amp;&amp;0&lt;=b.outIdx&amp;&amp;0&lt;=h.outIdx&amp;&amp;h.ycurr&gt;h.ytop&amp;&amp;this.SlopesEqual(b,h,this.m_UseFullRange)&amp;&amp;(this.AddOutPt(h,new d.IntPoint(b.xbot,b.ybot)),this.AddJoin(b,h,-1,-1))}b=b.nextInAEL}};d.Clipper.prototype.DoMaxima=function(a,b){for(var c=this.GetMaximaPair(a),e=a.xtop,g=a.nextInAEL;g!=c;)null==g&amp;&amp;d.Error(&quot;DoMaxima error&quot;),this.IntersectEdges(a,g,new d.IntPoint(e,
b),d.Protects.ipBoth),g=g.nextInAEL;0&gt;a.outIdx&amp;&amp;0&gt;c.outIdx?(this.DeleteFromAEL(a),this.DeleteFromAEL(c)):0&lt;=a.outIdx&amp;&amp;0&lt;=c.outIdx?this.IntersectEdges(a,c,new d.IntPoint(e,b),d.Protects.ipNone):d.Error(&quot;DoMaxima error&quot;)};d.Clipper.ReversePolygons=function(a){for(var b=a.length,c=0;c&lt;b;c++)a[c]instanceof Array&amp;&amp;a[c].reverse()};d.Clipper.Orientation=function(a){return 0&lt;=this.Area(a)};d.Clipper.prototype.PointCount=function(a){if(null==a)return 0;var b=0,c=a;do b++,c=c.next;while(c!=a);return b};d.Clipper.prototype.BuildResult=
function(a){d.Clear(a);for(var b,c=this.m_PolyOuts.length,e=0;e&lt;c;e++)if(b=this.m_PolyOuts[e],null!=b.pts){b=b.pts;var g=this.PointCount(b);if(!(3&gt;g)){for(var f=new d.Polygon(g),h=0;h&lt;g;h++)f.push(new d.IntPoint(b.pt.x,b.pt.y)),b=b.prev;a.push(f)}}};d.Clipper.prototype.BuildResultEx=function(a){d.Clear(a);for(var b=0;b&lt;this.m_PolyOuts.length;){var c=this.m_PolyOuts[b++];if(null==c.pts)break;var e=c.pts,c=this.PointCount(e);if(!(3&gt;c)){var g=new d.ExPolygon;g.outer=new d.Polygon;g.holes=new d.Polygons;
for(var f=0;f&lt;c;f++)g.outer.push(new d.IntPoint(e.pt.x,e.pt.y)),e=e.prev;for(;b&lt;this.m_PolyOuts.length;){c=this.m_PolyOuts[b];if(null==c.pts||!c.isHole)break;f=new d.Polygon;e=c.pts;do f.push(new d.IntPoint(e.pt.x,e.pt.y)),e=e.prev;while(e!=c.pts);g.holes.push(f);b++}a.push(g)}}};d.Clipper.prototype.FixupOutPolygon=function(a){for(var b=null,c=a.pts=a.bottomPt;;){if(c.prev==c||c.prev==c.next){this.DisposeOutPts(c);a.pts=null;a.bottomPt=null;return}if(d.ClipperBase.PointsEqual(c.pt,c.next.pt)||this.SlopesEqual(c.prev.pt,
c.pt,c.next.pt,this.m_UseFullRange))b=null,c==a.bottomPt&amp;&amp;(a.bottomPt=null),c.prev.next=c.next,c=c.next.prev=c.prev;else if(c==b)break;else null==b&amp;&amp;(b=c),c=c.next}null==a.bottomPt&amp;&amp;(a.bottomPt=this.GetBottomPt(c),a.bottomPt.idx=a.idx,a.pts=a.bottomPt)};d.Clipper.prototype.JoinPoints=function(a,b,c){b.Value=null;c.Value=null;var e=this.m_PolyOuts[a.poly1Idx],g=this.m_PolyOuts[a.poly2Idx];if(null==e||null==g)return!1;var f=e.pts,h=g.pts,k=a.pt2a,p=a.pt2b,m=a.pt1a,r=a.pt1b;if(!function(){f={Value:f};
k={Value:k};p={Value:p};var a=this.FindSegment(f,this.m_UseFullRange,k,p);f=f.Value;k=k.Value;p=p.Value;return a}.call(this))return!1;if(e==g){if(h=f.next,!function(){h={Value:h};m={Value:m};r={Value:r};var a=this.FindSegment(h,this.m_UseFullRange,m,r);h=h.Value;m=m.Value;r=r.Value;return a}.call(this)||h==f)return!1}else if(!function(){h={Value:h};m={Value:m};r={Value:r};var a=this.FindSegment(h,this.m_UseFullRange,m,r);h=h.Value;m=m.Value;r=r.Value;return a}.call(this))return!1;if(!function(){k=
{Value:k};p={Value:p};var a=this.GetOverlapSegment(k.Value,p.Value,m,r,k,p);k=k.Value;p=p.Value;return a}.call(this))return!1;e=f.prev;d.ClipperBase.PointsEqual(f.pt,k)?b.Value=f:d.ClipperBase.PointsEqual(e.pt,k)?b.Value=e:b.Value=this.InsertPolyPtBetween(f,e,k);d.ClipperBase.PointsEqual(f.pt,p)?c.Value=f:d.ClipperBase.PointsEqual(e.pt,p)?c.Value=e:b.Value==f||b.Value==e?c.Value=this.InsertPolyPtBetween(f,e,p):this.Pt3IsBetweenPt1AndPt2(f.pt,b.Value.pt,p)?c.Value=this.InsertPolyPtBetween(f,b.Value,
p):c.Value=this.InsertPolyPtBetween(b.Value,e,p);e=h.prev;a=d.ClipperBase.PointsEqual(h.pt,k)?h:d.ClipperBase.PointsEqual(e.pt,k)?e:this.InsertPolyPtBetween(h,e,k);e=d.ClipperBase.PointsEqual(h.pt,p)?h:d.ClipperBase.PointsEqual(e.pt,p)?e:a==h||a==e?this.InsertPolyPtBetween(h,e,p):this.Pt3IsBetweenPt1AndPt2(h.pt,a.pt,p)?this.InsertPolyPtBetween(h,a,p):this.InsertPolyPtBetween(a,e,p);return b.Value.next==c.Value&amp;&amp;a.prev==e?(b.Value.next=a,a.prev=b.Value,c.Value.prev=e,e.next=c.Value,!0):b.Value.prev==
c.Value&amp;&amp;a.next==e?(b.Value.prev=a,a.next=b.Value,c.Value.next=e,e.prev=c.Value,!0):!1};d.Clipper.prototype.FixupJoinRecs=function(a,b,c){for(;c&lt;this.m_Joins.length;c++){var d=this.m_Joins[c];d.poly1Idx==a.poly1Idx&amp;&amp;this.PointIsVertex(d.pt1a,b)&amp;&amp;(d.poly1Idx=a.poly2Idx);d.poly2Idx==a.poly1Idx&amp;&amp;this.PointIsVertex(d.pt2a,b)&amp;&amp;(d.poly2Idx=a.poly2Idx)}};d.Clipper.prototype.JoinCommonEdges=function(){for(var a,b,c=0;c&lt;this.m_Joins.length;c++){a=this.m_Joins[c];var d,g;d={Value:d};g={Value:g};var f=this.JoinPoints(a,
d,g);d=d.Value;g=g.Value;if(f){var f=this.m_PolyOuts[a.poly1Idx],h=this.m_PolyOuts[a.poly2Idx];if(f==h)if(f.pts=this.GetBottomPt(d),f.bottomPt=f.pts,f.bottomPt.idx=f.idx,h=this.CreateOutRec(),this.m_PolyOuts.push(h),h.idx=this.m_PolyOuts.length-1,a.poly2Idx=h.idx,h.pts=this.GetBottomPt(g),h.bottomPt=h.pts,h.bottomPt.idx=h.idx,this.PointInPolygon(h.pts.pt,f.pts,this.m_UseFullRange))h.isHole=!f.isHole,h.FirstLeft=f,this.FixupJoinRecs(a,g,c+1),this.FixupOutPolygon(f),this.FixupOutPolygon(h),(h.isHole^
this.m_ReverseOutput)==0&lt;this.Area(h,this.m_UseFullRange)&amp;&amp;this.ReversePolyPtLinks(h.pts);else if(this.PointInPolygon(f.pts.pt,h.pts,this.m_UseFullRange)){if(h.isHole=f.isHole,f.isHole=!h.isHole,h.FirstLeft=f.FirstLeft,f.FirstLeft=h,this.FixupJoinRecs(a,g,c+1),this.FixupOutPolygon(f),this.FixupOutPolygon(h),(f.isHole^this.m_ReverseOutput)==0&lt;this.Area(f,this.m_UseFullRange)&amp;&amp;this.ReversePolyPtLinks(f.pts),this.m_UsingExPolygons&amp;&amp;f.isHole)for(a=0;a&lt;this.m_PolyOuts.length;++a)b=this.m_PolyOuts[a],b.isHole&amp;&amp;
null!=b.bottomPt&amp;&amp;b.FirstLeft==f&amp;&amp;(b.FirstLeft=h)}else{if(h.isHole=f.isHole,h.FirstLeft=f.FirstLeft,this.FixupJoinRecs(a,g,c+1),this.FixupOutPolygon(f),this.FixupOutPolygon(h),this.m_UsingExPolygons&amp;&amp;null!=h.pts)for(a=0;a&lt;this.m_PolyOuts.length;++a)b=this.m_PolyOuts[a],b.isHole&amp;&amp;null!=b.bottomPt&amp;&amp;b.FirstLeft==f&amp;&amp;this.PointInPolygon(b.bottomPt.pt,h.pts,this.m_UseFullRange)&amp;&amp;(b.FirstLeft=h)}else{if(this.m_UsingExPolygons)for(a=0;a&lt;this.m_PolyOuts.length;++a)this.m_PolyOuts[a].isHole&amp;&amp;null!=this.m_PolyOuts[a].bottomPt&amp;&amp;
this.m_PolyOuts[a].FirstLeft==h&amp;&amp;(this.m_PolyOuts[a].FirstLeft=f);this.FixupOutPolygon(f);null!=f.pts&amp;&amp;(f.isHole=0&gt;this.Area(f,this.m_UseFullRange),f.isHole&amp;&amp;null==f.FirstLeft&amp;&amp;(f.FirstLeft=h.FirstLeft));b=f.idx;var k=h.idx;h.pts=null;h.bottomPt=null;h.AppendLink=f;for(a=c+1;a&lt;this.m_Joins.length;a++)f=this.m_Joins[a],f.poly1Idx==k&amp;&amp;(f.poly1Idx=b),f.poly2Idx==k&amp;&amp;(f.poly2Idx=b)}}}};d.Clipper.FullRangeNeeded=function(a){for(var b=!1,c=0;c&lt;a.length;c++)if(d.Math_Abs_Int64(a[c].x)&gt;d.ClipperBase.hiRange||
d.Math_Abs_Int64(a[c].y)&gt;d.ClipperBase.hiRange)d.Error(&quot;Coordinate exceeds range bounds in FullRangeNeeded().&quot;);else if(d.Math_Abs_Int64(a[c].x)&gt;d.ClipperBase.loRange||d.Math_Abs_Int64(a[c].y)&gt;d.ClipperBase.loRange)b=!0;return b};d.Clipper.prototype.Area=d.Clipper.Area=function(){var a=arguments,b;if(1==a.length){var c=a[0],e=c.length-1;if(2&gt;e)return 0;if(d.Clipper.FullRangeNeeded(c)){a=(new k(c[e].x+c[0].x)).multiply(new k(c[0].y-c[e].y));for(b=1;b&lt;=e;++b)a=a.add((new k(c[b-1].x+c[b].x)).multiply(new k(c[b].y-
c[b-1].y)));return parseFloat(a.toString())&#x2F;2}a=(c[e].x+c[0].x)*(c[0].y-c[e].y);for(b=1;b&lt;=e;++b)a+=(c[b-1].x+c[b].x)*(c[b].y-c[b-1].y);return a&#x2F;2}if(2==a.length){b=a[0];c=b.pts;if(null==c)return 0;if(a[1]){a=new k(k.ZERO);do a=a.add((new k(c.pt.x+c.prev.pt.x)).multiply(new k(c.prev.pt.y-c.pt.y))),c=c.next;while(c!=b.pts);return parseFloat(a.toString())&#x2F;2}a=0;do a+=(c.pt.x+c.prev.pt.x)*(c.prev.pt.y-c.pt.y),c=c.next;while(c!=b.pts);return a&#x2F;2}};d.Clipper.BuildArc=function(a,b,c,e){var g=Math.sqrt(d.Math_Abs_Double(e))*
d.Math_Abs_Double(c-b),g=g&#x2F;4;6&gt;g&amp;&amp;(g=6);64&lt;g&amp;&amp;(g=d.MaxSteps);var g=d.Cast_Int32(g),f=new d.Polygon;c=(c-b)&#x2F;(g-1);for(var h=0;h&lt;g;++h)f.push(new d.IntPoint(a.x+d.Clipper.Round(Math.cos(b)*e),a.y+d.Clipper.Round(Math.sin(b)*e))),b+=c;return f};d.Clipper.GetUnitNormal=function(a,b){var c=b.x-a.x,e=b.y-a.y;if(0==c&amp;&amp;0==e)return new d.Clipper.DoublePoint(0,0);var g=1&#x2F;Math.sqrt(c*c+e*e);return new d.Clipper.DoublePoint(e*g,-(c*g))};d.Clipper.prototype.OffsetPolygons=function(a,b,c,e,g){var f=arguments;4==
f.length?g=!0:3==f.length?(e=2,g=!0):2==f.length&amp;&amp;(c=d.JoinType.jtSquare,e=2,g=!0);isNaN(b)?d.Error(&quot;Delta is not a number&quot;):isNaN(e)&amp;&amp;d.Error(&quot;MiterLimit is not a number&quot;);f={};new d.Clipper.PolyOffsetBuilder(a,f,b,c,e,g);return f=f.Value?f.Value:[[]]};d.Clipper.prototype.SimplifyPolygon=function(a,b){var c=new d.Polygons,e=new d.Clipper;e.AddPolygon(a,d.PolyType.ptSubject)&amp;&amp;e.Execute(d.ClipType.ctUnion,c,b,b);return c};d.Clipper.prototype.SimplifyPolygons=function(a,b){var c=new d.Polygons,e=new d.Clipper;
e.AddPolygons(a,d.PolyType.ptSubject)&amp;&amp;e.Execute(d.ClipType.ctUnion,c,b,b);return c};v=d.Clipper;y=d.ClipperBase;var A;if(&quot;undefined&quot;==typeof Object.getOwnPropertyNames)for(A in y.prototype){if(&quot;undefined&quot;==typeof v.prototype[A]||v.prototype[A]==Object.prototype[A])v.prototype[A]=y.prototype[A]}else for(q=Object.getOwnPropertyNames(y.prototype),z=0;z&lt;q.length;z++)&quot;undefined&quot;==typeof Object.getOwnPropertyDescriptor(v.prototype,q[z])&amp;&amp;Object.defineProperty(v.prototype,q[z],Object.getOwnPropertyDescriptor(y.prototype,
q[z]));for(A in y)&quot;undefined&quot;==typeof v[A]&amp;&amp;(v[A]=y[A]);v.$baseCtor=y;d.Clipper.DoublePoint=function(a,b){this.x=a;this.y=b};d.Clipper.PolyOffsetBuilder=function(a,b,c,e,g,f){this.normals=this.currentPoly=this.pts=null;this.m_k=this.m_j=this.m_i=this.m_R=this.delta=0;this.botPt=null;if(0==c)b.Value=a;else{this.pts=a;this.delta=c;if(f){for(var h=this.pts.length,k=0;k&lt;h&amp;&amp;0==this.pts[k].length;)k++;if(k==h)return;this.botPt=this.pts[k][0];for(f=k;f&lt;h;++f)for(this.UpdateBotPt(this.pts[f][0])&amp;&amp;(k=f),a=
this.pts[f].length-1;0&lt;a;a--)d.ClipperBase.PointsEqual(this.pts[f][a],this.pts[f][a-1])?this.pts[f].splice(a,1):this.UpdateBotPt(this.pts[f][a])&amp;&amp;(k=f);d.Clipper.Orientation(this.pts[k])||d.Clipper.ReversePolygons(this.pts)}1&gt;=g&amp;&amp;(g=1);f=2&#x2F;(g*g);this.normals=[];b.Value=new d.Polygons;for(this.m_i=0;this.m_i&lt;this.pts.length;this.m_i++)if(h=this.pts[this.m_i].length,1&lt;h&amp;&amp;this.pts[this.m_i][0].x==this.pts[this.m_i][h-1].x&amp;&amp;this.pts[this.m_i][0].y==this.pts[this.m_i][h-1].y&amp;&amp;h--,!(0==h||3&gt;h&amp;&amp;0&gt;=c))if(1==
h)a=d.Clipper.BuildArc(this.pts[this.m_i][h-1],0,d.PI2,c),b.Value.push(a);else{d.Clear(this.normals);for(a=0;a&lt;h-1;++a)this.normals.push(d.Clipper.GetUnitNormal(this.pts[this.m_i][a],this.pts[this.m_i][a+1]));this.normals.push(d.Clipper.GetUnitNormal(this.pts[this.m_i][h-1],this.pts[this.m_i][0]));this.currentPoly=new d.Polygon;this.m_k=h-1;for(this.m_j=0;this.m_j&lt;h;++this.m_j){switch(e){case d.JoinType.jtMiter:this.m_R=1+(this.normals[this.m_j].x*this.normals[this.m_k].x+this.normals[this.m_j].y*
this.normals[this.m_k].y);this.m_R&gt;=f?this.DoMiter():this.DoSquare(g);break;case d.JoinType.jtRound:this.DoRound();break;case d.JoinType.jtSquare:this.DoSquare(1)}this.m_k=this.m_j}b.Value.push(this.currentPoly)}e=new d.Clipper;e.AddPolygons(b.Value,d.PolyType.ptSubject);if(0&lt;c)e.Execute(d.ClipType.ctUnion,b.Value,d.PolyFillType.pftPositive,d.PolyFillType.pftPositive);else if(c=e.GetBounds(),g=new d.Polygon,g.push(new d.IntPoint(c.left-10,c.bottom+10)),g.push(new d.IntPoint(c.right+10,c.bottom+10)),
g.push(new d.IntPoint(c.right+10,c.top-10)),g.push(new d.IntPoint(c.left-10,c.top-10)),e.AddPolygon(g,d.PolyType.ptSubject),e.Execute(d.ClipType.ctUnion,b.Value,d.PolyFillType.pftNegative,d.PolyFillType.pftNegative),0&lt;b.Value.length)for(b.Value.splice(0,1),f=0;f&lt;b.Value.length;f++)b.Value[f].reverse()}};d.Clipper.PolyOffsetBuilder.prototype.UpdateBotPt=function(a){return a.y&gt;this.botPt.y||a.y==this.botPt.y&amp;&amp;a.x&lt;this.botPt.x?(this.botPt=a,!0):!1};d.Clipper.PolyOffsetBuilder.prototype.AddPoint=function(a){this.currentPoly.push(a)};
d.Clipper.PolyOffsetBuilder.prototype.DoSquare=function(a){var b=new d.IntPoint(d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].x+this.normals[this.m_k].x*this.delta)),d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].y+this.normals[this.m_k].y*this.delta))),c=new d.IntPoint(d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].x+this.normals[this.m_j].x*this.delta)),d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].y+this.normals[this.m_j].y*this.delta)));if(0&lt;=(this.normals[this.m_k].x*
this.normals[this.m_j].y-this.normals[this.m_j].x*this.normals[this.m_k].y)*this.delta){var e=Math.atan2(this.normals[this.m_k].y,this.normals[this.m_k].x),g=Math.atan2(-this.normals[this.m_j].y,-this.normals[this.m_j].x),e=Math.abs(g-e);e&gt;d.PI&amp;&amp;(e=d.PI2-e);a=Math.tan((d.PI-e)&#x2F;4)*Math.abs(this.delta*a);b=new d.IntPoint(d.Cast_Int64(b.x-this.normals[this.m_k].y*a),d.Cast_Int64(b.y+this.normals[this.m_k].x*a));this.AddPoint(b);c=new d.IntPoint(d.Cast_Int64(c.x+this.normals[this.m_j].y*a),d.Cast_Int64(c.y-
this.normals[this.m_j].x*a))}else this.AddPoint(b),this.AddPoint(this.pts[this.m_i][this.m_j]);this.AddPoint(c)};d.Clipper.PolyOffsetBuilder.prototype.DoMiter=function(){if(0&lt;=(this.normals[this.m_k].x*this.normals[this.m_j].y-this.normals[this.m_j].x*this.normals[this.m_k].y)*this.delta){var a=this.delta&#x2F;this.m_R;this.AddPoint(new d.IntPoint(d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].x+(this.normals[this.m_k].x+this.normals[this.m_j].x)*a)),d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].y+
(this.normals[this.m_k].y+this.normals[this.m_j].y)*a))))}else{var a=new d.IntPoint(d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].x+this.normals[this.m_k].x*this.delta)),d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].y+this.normals[this.m_k].y*this.delta))),b=new d.IntPoint(d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].x+this.normals[this.m_j].x*this.delta)),d.Cast_Int64(d.Clipper.Round(this.pts[this.m_i][this.m_j].y+this.normals[this.m_j].y*this.delta)));this.AddPoint(a);
this.AddPoint(this.pts[this.m_i][this.m_j]);this.AddPoint(b)}};d.Clipper.PolyOffsetBuilder.prototype.DoRound=function(){var a=new d.IntPoint(d.Clipper.Round(this.pts[this.m_i][this.m_j].x+this.normals[this.m_k].x*this.delta),d.Clipper.Round(this.pts[this.m_i][this.m_j].y+this.normals[this.m_k].y*this.delta)),b=new d.IntPoint(d.Clipper.Round(this.pts[this.m_i][this.m_j].x+this.normals[this.m_j].x*this.delta),d.Clipper.Round(this.pts[this.m_i][this.m_j].y+this.normals[this.m_j].y*this.delta));this.AddPoint(a);
if(0&lt;=(this.normals[this.m_k].x*this.normals[this.m_j].y-this.normals[this.m_j].x*this.normals[this.m_k].y)*this.delta){if(0.985&gt;this.normals[this.m_j].x*this.normals[this.m_k].x+this.normals[this.m_j].y*this.normals[this.m_k].y){var a=Math.atan2(this.normals[this.m_k].y,this.normals[this.m_k].x),c=Math.atan2(this.normals[this.m_j].y,this.normals[this.m_j].x);0&lt;this.delta&amp;&amp;c&lt;a?c+=d.PI2:0&gt;this.delta&amp;&amp;c&gt;a&amp;&amp;(c-=d.PI2);a=d.Clipper.BuildArc(this.pts[this.m_i][this.m_j],a,c,this.delta);for(c=0;c&lt;a.length;c++)this.AddPoint(a[c])}}else this.AddPoint(this.pts[this.m_i][this.m_j]);
this.AddPoint(b)};d.Error=function(a){try{throw Error(a);}catch(b){alert(b.message)}};d.Clone=function(a){if(!(a instanceof Array)||0==a.length)return[];if(1==a.length&amp;&amp;0==a[0].length)return[[]];var b=a[0]instanceof Array;b||(a=[a]);var c=a.length,d,g,f,h,k=[];for(g=0;g&lt;c;g++){d=a[g].length;h=[];for(f=0;f&lt;d;f++)h.push({x:a[g][f].x,y:a[g][f].y});k.push(h)}b||(k=k[0]);return k};d.Clean=function(a,b){if(!(a instanceof Array))return[];var c=a[0]instanceof Array;a=d.Clone(a);if(&quot;number&quot;!=typeof b||null===
b)return d.Error(&quot;Delta is not a number in Clean().&quot;),a;if(0==a.length||1==a.length&amp;&amp;0==a[0].length||0&gt;b)return a;c||(a=[a]);for(var e=a.length,g,f,h,k,p,m,r,n=[],q=0;q&lt;e;q++)if(f=a[q],g=f.length,0!=g)if(3&gt;g)h=f,n.push(h);else{h=f;k=b*b;p=f[0];for(r=m=1;r&lt;g;r++)(f[r].x-p.x)*(f[r].x-p.x)+(f[r].y-p.y)*(f[r].y-p.y)&lt;=k||(h[m]=f[r],p=f[r],m++);p=f[m-1];(f[0].x-p.x)*(f[0].x-p.x)+(f[0].y-p.y)*(f[0].y-p.y)&lt;=k&amp;&amp;m--;m&lt;g&amp;&amp;h.splice(m,g-m);h.length&amp;&amp;n.push(h)}!c&amp;&amp;n.length?n=n[0]:c||0!=n.length?c&amp;&amp;0==n.length&amp;&amp;
(n=[[]]):n=[];return n};d.Lighten=function(a,b){if(!(a instanceof Array))return[];if(&quot;number&quot;!=typeof b||null===b)return d.Error(&quot;Tolerance is not a number in Lighten().&quot;),d.Clone(a);if(0===a.length||1==a.length&amp;&amp;0===a[0].length||0&gt;b)return d.Clone(a);a[0]instanceof Array||(a=[a]);var c,e,g,f,h,k,p,m,n,q,s,t,u,x=a.length,v=[];for(c=0;c&lt;x;c++){g=a[c];for(f=0;1E6&gt;f;f++){h=[];k=g.length;g[k-1].x!=g[0].x||g[k-1].y!=g[0].y?(t=1,g.push({x:g[0].x,y:g[0].y}),k=g.length):t=0;s=[];for(e=0;e&lt;k-2;e++){p=g[e];
n=g[e+1];m=g[e+2];u=m.x-p.x;m=m.y-p.y;q=0;if(0!==u||0!==m)q=Math.sqrt(u*u+m*m),q=Math.abs((n.x-p.x)*m-(n.y-p.y)*u)&#x2F;q;q&lt;=b&amp;&amp;(s[e+1]=1,e++)}h.push({x:g[0].x,y:g[0].y});for(e=1;e&lt;k-1;e++)s[e]||h.push({x:g[e].x,y:g[e].y});h.push({x:g[k-1].x,y:g[k-1].y});t&amp;&amp;g.pop();if(s.length)g=h;else break}k=h.length;h[k-1].x==h[0].x&amp;&amp;h[k-1].y==h[0].y&amp;&amp;h.pop();2&lt;h.length&amp;&amp;v.push(h)}!a[0]instanceof Array&amp;&amp;(v=v[0]);&quot;undefined&quot;==typeof v&amp;&amp;(v=[[]]);return v};&quot;undefined&quot;!==typeof document?window.ClipperLib=d:self.ClipperLib=
d})();
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
